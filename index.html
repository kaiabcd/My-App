<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>çˆ¸çˆ¸çš„éŠæˆ²å¤§å»³</title>

<link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/2990/2990295.png">
<link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/2990/2990295.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#DEB887">

<style>
  /* === å…¨å±€åŸºç¤è¨­å®š === */
  * { box-sizing: border-box; touch-action: manipulation; -webkit-tap-highlight-color: transparent; }
  body {
    margin: 0; padding: 0; min-height: 100vh;
    font-family: "Microsoft JhengHei", "Arial Rounded MT Bold", sans-serif;
    display: flex; flex-direction: column; align-items: center;
    /* æ¥“æœ¨èƒŒæ™¯ (å›ºå®šä¸æ²å‹•) */
    background-color: #DEB887;
    background-image: linear-gradient(90deg, rgba(255,255,255,.07) 50%, transparent 50%),
                      linear-gradient(90deg, rgba(255,255,255,.13) 50%, transparent 50%),
                      linear-gradient(90deg, transparent 50%, rgba(255,255,255,.17) 50%),
                      linear-gradient(90deg, transparent 50%, rgba(255,255,255,.19) 50%);
    background-size: 13px, 29px, 37px, 53px;
    background-attachment: fixed;
    padding-top: env(safe-area-inset-top); padding-bottom: env(safe-area-inset-bottom);
    overflow: hidden;
  }

  /* === é é¢åˆ‡æ›ç³»çµ± === */
  .page { display: none; width: 100%; height: 100vh; flex-direction: column; align-items: center; overflow-y: auto; padding: 10px; }
  .page.active { display: flex; }

  /* === é¦–é å¤§å»³æ¨£å¼ === */
  .lobby-title {
    color: #5D4037; font-size: 1.8rem; margin: 40px 0;
    text-shadow: 1px 1px 0px rgba(255,255,255,0.4);
    background: rgba(255,255,255,0.6); padding: 10px 30px; border-radius: 50px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  }
  .app-grid { display: flex; flex-direction: column; gap: 30px; width: 100%; max-width: 400px; }
  .app-card {
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    background: linear-gradient(145deg, #ffffff, #f0f0f0); border-radius: 30px; padding: 30px;
    box-shadow: 0 10px 20px rgba(93, 64, 55, 0.2), inset 0 2px 0 rgba(255,255,255,1); border: 4px solid #fff;
    cursor: pointer; transition: transform 0.1s;
  }
  .app-card:active { transform: scale(0.95); background: #e0e0e0; }
  .app-icon { width: 100px; height: 100px; margin-bottom: 15px; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.1)); pointer-events: none; }
  .app-name { font-size: 1.5rem; font-weight: bold; color: #5D4037; pointer-events: none; }

  /* === å…±åŒ UI å…ƒä»¶ (æŒ‰éˆ•ã€å¡ç‰‡ã€Modal) === */
  #home-btn { display: none; position: fixed; top: 15px; left: 15px; z-index: 1000; background: white; border: none; border-radius: 50%; width: 45px; height: 45px; font-size: 24px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); cursor: pointer; }
  .game-title { margin: 10px 0 15px 0; font-size: 1.5rem; text-align: center; color: #333; text-shadow: 2px 2px 0 #fff; }
  .scene { width: 300px; height: 350px; perspective: 1000px; cursor: pointer; margin-bottom: 20px; position: relative; z-index: 1; }
  .card { width: 100%; height: 100%; position: relative; transition: transform 0.6s; transform-style: preserve-3d; border-radius: 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.15); }
  .card.is-flipped { transform: rotateY(180deg); }
  .card__face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; -webkit-backface-visibility: hidden; display: flex; align-items: center; justify-content: center; border-radius: 20px; border: 5px solid white; box-sizing: border-box; background-color: white; flex-direction: column; }
  .controls { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; width: 100%; max-width: 500px; margin-bottom: 50px; }
  .ctrl-btn { padding: 12px 20px; font-size: 16px; border: none; border-radius: 50px; color: white; cursor: pointer; box-shadow: 0 4px 6px rgba(0,0,0,0.1); font-weight: bold; flex: 1; transition: 0.1s; }
  .ctrl-btn:active { transform: scale(0.95); }
  .list-btn-fixed { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 900; background-color: #9c27b0; color: white; padding: 10px 20px; border-radius: 30px; border: none; font-weight: bold; box-shadow: 0 4px 10px rgba(0,0,0,0.3); cursor: pointer; width: 80%; max-width: 400px; }
  
  /* æ¸…å–®è¦–çª— */
  .modal { display: none; position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); align-items: center; justify-content: center; }
  .modal-content { background-color: white; width: 90%; max-width: 600px; height: 80%; border-radius: 15px; display: flex; flex-direction: column; overflow: hidden; }
  .modal-header { padding: 15px; background: #2196F3; color: white; display: flex; justify-content: space-between; align-items: center; font-weight: bold; }
  .modal-body { padding: 10px; overflow-y: auto; flex: 1; display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 8px; }
  .list-item { background: #f1f1f1; padding: 10px 5px; border-radius: 8px; text-align: center; cursor: pointer; border: 1px solid #ddd; }

  /* å¯¶å¯å¤¢æ¨£å¼ */
  .poke-front { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); color: #333; }
  .poke-back { background-color: #fdfdfd; transform: rotateY(180deg); }
  .poke-back img { width: 90%; height: 90%; object-fit: contain; }
  /* ç›´å¼æ³¨éŸ³ */
  .char-block { display: inline-flex; align-items: center; margin: 0 2px; }
  .char-text { font-size: 50px; line-height: 1; margin-right: 2px; }
  .zhuyin-group { display: flex; flex-direction: row; height: 100%; align-items: center; }
  .zhuyin-symbols { display: flex; flex-direction: column; line-height: 1; align-items: center; }
  .zhuyin-char, .zhuyin-tone-char { font-size: 14px; font-family: "Bopomofo", sans-serif; color: #555; font-weight: normal; }

  /* è‹±èªæ¨£å¼ */
  .eng-front { background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%); color: #333; }
  .eng-back { background: linear-gradient(135deg, #fccb90 0%, #d57eeb 100%); color: #333; transform: rotateY(180deg); }
  .tabs { display: flex; gap: 8px; margin-bottom: 15px; background: white; padding: 5px; border-radius: 30px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
  .tab-btn { padding: 8px 15px; border: none; background: transparent; border-radius: 25px; font-size: 14px; font-weight: bold; color: #888; cursor: pointer; }
  .tab-btn.active { background-color: #FF9A9E; color: white; }
  .voice-btn { background: white; border: none; border-radius: 50%; width: 50px; height: 50px; font-size: 24px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 10px rgba(0,0,0,0.2); margin-top: 10px; color: #2196F3; cursor: pointer;}
</style>
</head>
<body>

  <button id="home-btn" onclick="goHome()">ğŸ </button>

  <div id="page-lobby" class="page active">
    <h1 class="lobby-title">ğŸ® éŠæˆ²å¤§å»³ ğŸ®</h1>
    <div class="app-grid">
      <div class="app-card" onclick="goToGame('pokemon')">
        <img src="https://cdn-icons-png.flaticon.com/512/287/287221.png" class="app-icon">
        <div class="app-name">å¯¶å¯å¤¢åœ–é‘‘</div>
      </div>
      <div class="app-card" onclick="goToGame('english')">
        <img src="https://cdn-icons-png.flaticon.com/512/2232/2232688.png" class="app-icon">
        <div class="app-name">è‹±èªå­¸ç¿’å¡</div>
      </div>
    </div>
  </div>

  <div id="page-pokemon" class="page" style="background-color: #f0f8ff;">
    <h1 class="game-title">å¯¶å¯å¤¢è­˜å­— (å…¨1025)</h1>
    <div class="scene" onclick="flipPoke()">
      <div class="card" id="poke-card">
        <div class="card__face poke-front">
          <div style="font-size:14px; color:#666; margin-bottom:5px;" id="poke-id">No.---</div>
          <div id="poke-name-container" style="display:flex; justify-content:center; flex-wrap:wrap;">è¼‰å…¥ä¸­</div>
        </div>
        <div class="card__face poke-back">
          <img id="poke-img" src="" alt="Pokemon">
        </div>
      </div>
    </div>
    <div style="margin-bottom:15px; color:#666; font-weight:bold;" id="poke-counter">No. ---</div>
    <div class="controls">
      <button class="ctrl-btn" style="background:#2196F3" onclick="navPoke(-1)">â—€ ä¸Šä¸€å¼µ</button>
      <button class="ctrl-btn" style="background:#ff9800; flex:1.5" onclick="randPoke()">ğŸ² éš¨æ©Ÿ</button>
      <button class="ctrl-btn" style="background:#2196F3" onclick="navPoke(1)">ä¸‹ä¸€å¼µ â–¶</button>
    </div>
    <button class="list-btn-fixed" onclick="togglePokeList()">ğŸ“œ æŸ¥çœ‹å…¨éƒ¨æ¸…å–®</button>
  </div>

  <div id="page-english" class="page" style="background-color: #FFF5E1;">
    <h1 class="game-title">ğŸ‡ºğŸ‡¸ å…’ç«¥è‹±èª ğŸ‡¹ğŸ‡¼</h1>
    <div class="tabs">
      <button class="tab-btn active" onclick="switchEngMode('words')">ğŸ”¤ å–®å­—</button>
      <button class="tab-btn" onclick="switchEngMode('phrases')">ğŸ’¬ ç‰‡èª</button>
      <button class="tab-btn" onclick="switchEngMode('sentences')">ğŸ—£ï¸ å¥å­</button>
    </div>
    <div class="scene" onclick="flipEng()">
      <div class="card" id="eng-card">
        <div class="card__face eng-front">
          <div style="position:absolute; top:10px; right:10px; background:rgba(255,255,255,0.7); padding:4px 8px; border-radius:10px; font-size:12px; color:#555;" id="eng-cat">Cat</div>
          <div style="font-size:80px; margin-bottom:10px;" id="eng-icon">ğŸ</div>
          <div style="font-size:36px; font-weight:800; margin-bottom:5px;" id="eng-text">Apple</div>
          <button class="voice-btn" onclick="playEngAudio(event)">ğŸ”Š</button>
        </div>
        <div class="card__face eng-back">
          <div style="font-size:80px; margin-bottom:10px;" id="eng-icon-back">ğŸ</div>
          <div style="font-size:40px; font-weight:bold; color:white; text-shadow:2px 2px 4px rgba(0,0,0,0.3);" id="eng-zh">è˜‹æœ</div>
        </div>
      </div>
    </div>
    <div style="margin-bottom:10px; color:#888; font-weight:bold;" id="eng-counter">1 / 500</div>
    <div class="controls">
      <button class="ctrl-btn" style="background:#FF9A9E" onclick="navEng(-1)">â—€ ä¸Šä¸€å€‹</button>
      <button class="ctrl-btn" style="background:#FFD700; color:#795548" onclick="randEng()">ğŸ² éš¨æ©Ÿ</button>
      <button class="ctrl-btn" style="background:#4facfe" onclick="navEng(1)">ä¸‹ä¸€å€‹ â–¶</button>
    </div>
    <button class="list-btn-fixed" style="background-color:#9c27b0" onclick="toggleEngList()">ğŸ“œ æŸ¥çœ‹å…¨éƒ¨æ¸…å–®</button>
  </div>

  <div id="modal-list" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <span id="modal-title">åˆ—è¡¨</span>
        <button style="background:none;border:none;color:white;font-size:24px;" onclick="closeModal()">Ã—</button>
      </div>
      <div class="modal-body" id="modal-body"></div>
    </div>
  </div>

<script>
  // ================= 1. å¤§å»³èˆ‡ç³»çµ±é‚è¼¯ =================
  function goToGame(gameId) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById('page-' + gameId).classList.add('active');
    document.getElementById('home-btn').style.display = 'block';
    // ç§»é™¤èƒŒæ™¯ç´‹è·¯æ”¹ç‚ºç´”è‰²
    document.body.style.backgroundImage = 'none';
    if(gameId === 'pokemon') {
      document.body.style.backgroundColor = "#f0f8ff"; 
      if(typeof initPoke === 'function') initPoke(); // å‘¼å«åˆå§‹åŒ–
    } else {
      document.body.style.backgroundColor = "#FFF5E1"; 
      if(typeof initEng === 'function') initEng(); // å‘¼å«åˆå§‹åŒ–
    }
  }

  function goHome() {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById('page-lobby').classList.add('active');
    document.getElementById('home-btn').style.display = 'none';
    // æ¢å¾©æ¥“æœ¨èƒŒæ™¯
    document.body.style.backgroundColor = "#DEB887";
    document.body.style.backgroundImage = `linear-gradient(90deg, rgba(255,255,255,.07) 50%, transparent 50%), linear-gradient(90deg, rgba(255,255,255,.13) 50%, transparent 50%), linear-gradient(90deg, transparent 50%, rgba(255,255,255,.17) 50%), linear-gradient(90deg, transparent 50%, rgba(255,255,255,.19) 50%)`;
  }

  function closeModal() { document.getElementById('modal-list').style.display = 'none'; }


  // ================= 2. è«‹åœ¨æ­¤è²¼ä¸Šã€å¯¶å¯å¤¢ã€‘çš„ Script =================
  // æç¤ºï¼šè«‹ç¢ºä¿æ‚¨çš„ Script è£¡ä½¿ç”¨çš„è®Šæ•¸åç¨± (å¦‚ pokeData) èˆ‡ HTML ID (å¦‚ poke-card) ä¸€è‡´
  
  // (åœ¨æ­¤è™•è²¼ä¸Šæ‚¨çš„å¯¶å¯å¤¢ Javascript ç¨‹å¼ç¢¼)


  // ================= 3. è«‹åœ¨æ­¤è²¼ä¸Šã€è‹±èªåœ–å¡ã€‘çš„ Script =================
  // æç¤ºï¼šè«‹ç¢ºä¿æ‚¨çš„ Script è£¡ä½¿ç”¨çš„è®Šæ•¸åç¨± (å¦‚ engData) èˆ‡ HTML ID (å¦‚ eng-card) ä¸€è‡´

  // (åœ¨æ­¤è™•è²¼ä¸Šæ‚¨çš„è‹±èª Javascript ç¨‹å¼ç¢¼)

</script>
</body>
</html>
