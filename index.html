<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>遊戲大廳</title>

<link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/2990/2990295.png">
<link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/2990/2990295.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#DEB887">

<style>
  /* === 全局基礎設定 === */
  * { box-sizing: border-box; touch-action: manipulation; -webkit-tap-highlight-color: transparent; user-select: none; -webkit-user-select: none; }
  body {
    margin: 0; padding: 0; min-height: 100vh;
    font-family: "Microsoft JhengHei", "Arial Rounded MT Bold", sans-serif;
    display: flex; flex-direction: column; align-items: center;
    background-color: #DEB887;
    background-image: linear-gradient(90deg, rgba(255,255,255,.07) 50%, transparent 50%),
                      linear-gradient(90deg, rgba(255,255,255,.13) 50%, transparent 50%),
                      linear-gradient(90deg, transparent 50%, rgba(255,255,255,.17) 50%),
                      linear-gradient(90deg, transparent 50%, rgba(255,255,255,.19) 50%);
    background-size: 13px, 29px, 37px, 53px;
    background-attachment: fixed;
    padding-top: env(safe-area-inset-top); padding-bottom: env(safe-area-inset-bottom);
    overflow: hidden;
    transition: background 0.3s;
  }

  /* === 頁面切換系統 === */
  .page { display: none; width: 100%; height: 100vh; flex-direction: column; align-items: center; overflow-y: auto; padding: 10px; position: relative; }
  .page.active { display: flex; }

  /* === 共同 UI === */
  #home-btn { display: none; position: fixed; top: 15px; left: 15px; z-index: 1000; background: white; border: none; border-radius: 50%; width: 45px; height: 45px; font-size: 24px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); cursor: pointer; }
  
  .lobby-title { color: #5D4037; font-size: 1.8rem; margin: 40px 0; text-shadow: 1px 1px 0px rgba(255,255,255,0.4); background: rgba(255,255,255,0.6); padding: 10px 30px; border-radius: 50px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
  .app-grid { display: flex; flex-direction: column; gap: 30px; width: 100%; max-width: 400px; }
  .app-card { display: flex; flex-direction: column; align-items: center; justify-content: center; background: linear-gradient(145deg, #ffffff, #f0f0f0); border-radius: 30px; padding: 30px; box-shadow: 0 10px 20px rgba(93, 64, 55, 0.2), inset 0 2px 0 rgba(255,255,255,1); border: 4px solid #fff; cursor: pointer; transition: transform 0.1s; }
  .app-card:active { transform: scale(0.95); background: #e0e0e0; }
  .app-icon { width: 100px; height: 100px; margin-bottom: 15px; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.1)); pointer-events: none; }
  .app-name { font-size: 1.5rem; font-weight: bold; color: #5D4037; pointer-events: none; }

  .controls { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; width: 100%; max-width: 500px; margin-bottom: 60px; z-index: 10; }
  .ctrl-btn { padding: 12px 20px; font-size: 16px; border: none; border-radius: 50px; color: white; cursor: pointer; box-shadow: 0 4px 6px rgba(0,0,0,0.1); font-weight: bold; flex: 1; min-width: 80px; transition: 0.1s; }
  .ctrl-btn:active { transform: scale(0.95); }
  .list-btn-fixed { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 900; background-color: #9c27b0; color: white; padding: 10px 20px; border-radius: 30px; border: none; font-weight: bold; box-shadow: 0 4px 10px rgba(0,0,0,0.3); cursor: pointer; width: 80%; max-width: 400px; }

  /* === 寶可夢樣式 === */
  .poke-scene { width: 100%; max-width: 450px; flex: 1; display: flex; justify-content: center; align-items: center; margin-bottom: 15px; margin-top: 10px; perspective: 1000px; }
  .poke-card { width: 100%; height: 100%; background: white; border-radius: 25px; box-shadow: 0 10px 25px rgba(0,0,0,0.15); border: 6px solid #fff; display: flex; flex-direction: column; overflow: hidden; position: relative; transition: transform 0.6s; transform-style: preserve-3d; }
  .poke-card.is-flipped { transform: rotateY(180deg); }
  .poke-image-area { flex: 1.5; background-color: #fdfdfd; display: flex; align-items: center; justify-content: center; position: relative; border-bottom: 2px dashed #eee; }
  .poke-image-area img { width: 90%; height: 90%; object-fit: contain; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.1)); }
  .poke-id-hint { position: absolute; top: 15px; left: 20px; font-size: 16px; color: #999; font-weight: bold; background: rgba(255,255,255,0.8); padding: 2px 8px; border-radius: 10px; }
  .poke-speak-btn { position: absolute; bottom: 10px; right: 10px; background: #FF9800; color: white; border: none; border-radius: 50%; width: 48px; height: 48px; font-size: 24px; cursor: pointer; box-shadow: 0 3px 6px rgba(0,0,0,0.2); display: flex; align-items: center; justify-content: center; z-index: 5; }
  .poke-text-area { flex: 0.8; background: linear-gradient(135deg, #fff5f5 0%, #fff 100%); display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 5px 10px; }
  
  .char-block { display: inline-flex; align-items: center; margin: 0 1px; }
  .char-text { font-size: 40px; line-height: 1; margin-right: 2px; color: #333; }
  .zhuyin-group { display: flex; flex-direction: row; height: 100%; align-items: center; }
  .zhuyin-symbols { display: flex; flex-direction: column; line-height: 1; align-items: center; }
  .zhuyin-char { font-size: 14px; font-family: "Bopomofo", sans-serif; font-weight: normal; color: #666; height: 16px; display: flex; align-items: center; justify-content: center; }
  .zhuyin-tone-char { font-size: 14px; font-family: "Bopomofo", sans-serif; font-weight: normal; color: #666; }

  /* === 英語樣式 === */
  .eng-tabs { display: flex; gap: 8px; margin-bottom: 15px; background: white; padding: 5px; border-radius: 30px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); z-index: 10; }
  .tab-btn { padding: 8px 16px; border: none; background: transparent; border-radius: 25px; font-size: 15px; font-weight: bold; color: #888; cursor: pointer; transition: 0.3s; }
  .tab-btn.active { background-color: #FF9A9E; color: white; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
  .eng-scene { width: 320px; height: 420px; perspective: 1000px; cursor: pointer; margin-bottom: 10px; position: relative; z-index: 1; margin-top: 10px;}
  .eng-card { width: 100%; height: 100%; position: relative; transition: transform 0.6s cubic-bezier(0.4, 0.2, 0.2, 1); transform-style: preserve-3d; border-radius: 30px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); }
  .eng-card.is-flipped { transform: rotateY(180deg); }
  .eng-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; -webkit-backface-visibility: hidden; display: flex; flex-direction: column; align-items: center; justify-content: center; border-radius: 30px; border: 8px solid #fff; box-sizing: border-box; background-color: white; padding: 15px; }
  .eng-face-front { background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%); color: #333; transform: rotateY(0deg); }
  .eng-face-back { background: linear-gradient(135deg, #fccb90 0%, #d57eeb 100%); color: #333; transform: rotateY(180deg); }
  .eng-emoji { font-size: 80px; margin-bottom: 15px; filter: drop-shadow(0 5px 10px rgba(0,0,0,0.2)); }
  .eng-word { font-size: 34px; font-weight: 800; color: #333; margin-bottom: 5px; text-align: center; }
  .eng-zh { font-size: 38px; font-weight: bold; color: #fff; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); text-align: center; }
  .voice-btn { background-color: #fff; border: none; border-radius: 50%; width: 50px; height: 50px; font-size: 24px; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2); margin-top: 15px; color: #2196F3; }
  .category-tag { position: absolute; top: 15px; right: 15px; background: rgba(255,255,255,0.7); padding: 4px 10px; border-radius: 12px; font-size: 12px; font-weight: bold; color: #555; }

  /* === 數學樣式 (新版) === */
  .math-btn { padding: 20px; font-size: 24px; color: white; border: none; border-radius: 20px; cursor: pointer; font-weight: bold; box-shadow: 0 5px 0 rgba(0,0,0,0.1); transition: transform 0.1s; display: flex; align-items: center; justify-content: center;}
  .math-btn:active { transform: translateY(3px); box-shadow: none; }
  
  /* 顯示題目的區域 */
  .math-board { 
    background: white; border-radius: 20px; padding: 20px; 
    width: 100%; max-width: 350px; 
    display: flex; flex-direction: column; align-items: center; 
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    margin-bottom: 20px;
    border: 5px solid #fff;
  }
  .math-question-text { font-size: 50px; font-weight: bold; color: #333; margin-bottom: 10px; }
  .math-input-box {
    width: 100%; height: 60px; 
    background: #f0f0f0; border-radius: 10px; 
    font-size: 40px; font-weight: bold; color: #2E7D32; 
    display: flex; align-items: center; justify-content: center;
    border: 2px dashed #ccc;
  }

  /* 鍵盤區域 */
  .keypad { 
    display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; 
    width: 100%; max-width: 350px; 
  }
  .key-btn {
    background: white; border: none; border-radius: 15px; 
    height: 60px; font-size: 28px; font-weight: bold; color: #555;
    box-shadow: 0 4px 0 rgba(0,0,0,0.1); cursor: pointer;
  }
  .key-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 rgba(0,0,0,0.1); background: #eee; }
  .key-ok { background: #4CAF50; color: white; grid-column: span 2; }
  .key-ok:active { background: #388E3C; }
  .key-clear { background: #FF9800; color: white; }

  /* 答對答錯的回饋遮罩 */
  #math-feedback {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(255,255,255,0.8);
    display: none; align-items: center; justify-content: center;
    font-size: 150px; font-weight: bold; z-index: 100;
    backdrop-filter: blur(2px);
  }
  .feedback-o { color: #4CAF50; animation: popIn 0.3s; }
  .feedback-x { color: #F44336; animation: shake 0.3s; }

  @keyframes popIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }
  @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }

  /* Modal */
  .modal { display: none; position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); align-items: center; justify-content: center; }
  .modal-content { background-color: white; width: 90%; max-width: 600px; height: 80%; border-radius: 15px; display: flex; flex-direction: column; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
  .modal-header { padding: 15px; background: #2196F3; color: white; display: flex; justify-content: space-between; align-items: center; font-size: 1.2rem; font-weight: bold; }
  .close-btn { background: none; border: none; color: white; font-size: 24px; cursor: pointer; }
  .modal-body { padding: 10px; overflow-y: auto; flex: 1; display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 10px; }
  .list-item { background: #f1f1f1; padding: 10px 5px; border-radius: 8px; text-align: center; cursor: pointer; font-size: 14px; border: 1px solid #ddd; display: flex; flex-direction: column; align-items: center; justify-content: center;}
</style>
</head>
<body oncontextmenu="return false;">

  <button id="home-btn" onclick="goHome()">🏠</button>

  <div id="page-lobby" class="page active">
    <h1 class="lobby-title">🎮 遊戲大廳 🎮</h1>
    <div class="app-grid">
      <div class="app-card" onclick="goToGame('pokemon')">
        <img src="https://cdn-icons-png.flaticon.com/512/287/287221.png" class="app-icon">
        <div class="app-name">寶可夢圖鑑</div>
      </div>
      <div class="app-card" onclick="goToGame('english')">
        <img src="https://cdn-icons-png.flaticon.com/512/2232/2232688.png" class="app-icon">
        <div class="app-name">英語學習卡</div>
      </div>
      <div class="app-card" onclick="goToGame('math')">
        <img src="https://cdn-icons-png.flaticon.com/512/3965/3965108.png" class="app-icon">
        <div class="app-name">數學心算</div>
      </div>
    </div>
  </div>

  <div id="page-pokemon" class="page" style="background-color: #f0f8ff;">
    <h1 style="color: #333; margin: 10px 0;">寶可夢識字</h1>
    <div class="poke-scene">
      <div class="poke-card" id="poke-card">
        <div class="poke-image-area">
          <div class="poke-id-hint" id="poke-id">No.---</div>
          <img id="poke-img" src="" alt="Pokemon">
          <button class="poke-speak-btn" onclick="speakPokeName()">🔊</button>
        </div>
        <div class="poke-text-area">
          <div id="poke-name-container" style="display:flex; justify-content:center; flex-wrap:nowrap; width:100%;">載入中</div>
        </div>
      </div>
    </div>
    
    <div class="controls">
      <button class="ctrl-btn" style="background:#2196F3" onclick="navPoke(-1)">◀ 上一張</button>
      <button class="ctrl-btn" style="background:#4CAF50; flex:1.5" onclick="randPoke()">🎲 隨機</button>
      <button class="ctrl-btn" style="background:#2196F3" onclick="navPoke(1)">下一張 ▶</button>
    </div>
    <button class="list-btn-fixed" onclick="togglePokeList()">📜 選擇寶可夢</button>
  </div>

  <div id="page-english" class="page" style="background-color: #FFF5E1;">
    <h1 style="color: #FF6B6B; margin: 10px 0;">兒童英語學習</h1>
    <div class="eng-tabs">
      <button class="tab-btn active" onclick="switchEngMode('words')">🔤 單字</button>
      <button class="tab-btn" onclick="switchEngMode('phrases')">💬 片語</button>
      <button class="tab-btn" onclick="switchEngMode('sentences')">🗣️ 句子</button>
    </div>

    <div class="eng-scene" onclick="flipEng()">
      <div class="eng-card" id="eng-card">
        <div class="eng-face eng-face-front">
          <div class="category-tag" id="eng-cat">Category</div>
          <div class="eng-emoji" id="eng-icon">🍎</div>
          <div class="eng-word" id="eng-text">Apple</div>
          <button class="voice-btn" onclick="playEngAudio(event, 'en')">🔊</button>
        </div>
        <div class="eng-face eng-face-back">
          <div class="eng-emoji" id="eng-icon-back">🍎</div>
          <div class="eng-zh" id="eng-zh">蘋果</div>
          <button class="voice-btn" onclick="playEngAudio(event, 'zh')">🔊</button>
        </div>
      </div>
    </div>

    <div style="margin:5px 0 10px 0; color:#888; font-weight:bold;" id="eng-counter">1 / 500</div>

    <div class="controls">
      <button class="ctrl-btn" style="background:#FF9A9E" onclick="navEng(-1)">◀ 上一個</button>
      <button class="ctrl-btn" style="background:#FFD700; color:#795548" onclick="randEng()">🎲 隨機</button>
      <button class="ctrl-btn" style="background:#4facfe" onclick="navEng(1)">下一個 ▶</button>
    </div>
    <button class="list-btn-fixed" style="background:#9c27b0" onclick="toggleEngList()">📜 查看全部清單</button>
  </div>

  <div id="page-math" class="page" style="background-color: #E8F5E9;">
    <h1 style="color: #2E7D32; margin: 10px 0;">🔢 數學心算</h1>

    <div id="math-menu-container" style="width: 100%; max-width: 400px; display: flex; flex-direction: column; gap: 20px; align-items: center; margin-top: 20px;">
      <div id="math-op-menu" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 100%;">
        <button class="math-btn" onclick="selectMathOp('add')" style="background: #FF9800;">➕ 加法</button>
        <button class="math-btn" onclick="selectMathOp('sub')" style="background: #2196F3;">➖ 減法</button>
        <button class="math-btn" onclick="selectMathOp('mul')" style="background: #9C27B0;">✖️ 乘法</button>
        <button class="math-btn" onclick="selectMathOp('div')" style="background: #E91E63;">➗ 除法</button>
      </div>
      <div id="math-digit-menu" style="display: none; flex-direction: column; gap: 15px; width: 100%; animation: popIn 0.3s;">
        <div style="text-align: center; color: #2E7D32; font-weight: bold; font-size: 18px;" id="math-subtitle">請選擇難度</div>
        <button class="math-btn" onclick="startMath(1)" style="background: #4CAF50;">1 位數 (1-9)</button>
        <button class="math-btn" onclick="startMath(2)" style="background: #009688;">2 位數 (10-99)</button>
        <button class="math-btn" onclick="resetMath()" style="background: #795548; font-size: 18px;">↩️ 返回</button>
      </div>
    </div>

    <div id="math-game-container" style="display: none; flex-direction: column; align-items: center; width: 100%; max-width: 350px;">
      
      <div style="display: flex; justify-content: space-between; width: 100%; margin-bottom: 5px; align-items: center;">
        <button onclick="resetMath()" style="border: none; background: none; font-size: 18px; cursor: pointer; color:#555; font-weight:bold;">↩️ 重選</button>
        <span id="math-info" style="color: #2E7D32; font-weight: bold; font-size: 18px;">加法</span>
        <span style="width: 40px;"></span>
      </div>

      <div class="math-board">
        <div class="math-question-text" id="math-q-display">? + ? =</div>
        <div class="math-input-box" id="math-input-display"></div>
      </div>

      <div class="keypad">
        <button class="key-btn" onclick="inputMath('1')">1</button>
        <button class="key-btn" onclick="inputMath('2')">2</button>
        <button class="key-btn" onclick="inputMath('3')">3</button>
        <button class="key-btn" onclick="inputMath('4')">4</button>
        <button class="key-btn" onclick="inputMath('5')">5</button>
        <button class="key-btn" onclick="inputMath('6')">6</button>
        <button class="key-btn" onclick="inputMath('7')">7</button>
        <button class="key-btn" onclick="inputMath('8')">8</button>
        <button class="key-btn" onclick="inputMath('9')">9</button>
        <button class="key-btn key-clear" onclick="inputMath('C')">C</button>
        <button class="key-btn" onclick="inputMath('0')">0</button>
        <button class="key-btn" onclick="inputMath('.')">.</button>
        <button class="key-btn key-ok" onclick="checkMathAnswer()">OK (送出)</button>
        <button class="key-btn" id="next-q-btn" onclick="nextMathQ()" style="display:none; background:#2196F3; color:white; grid-column: span 1;">➡</button>
      </div>

      <div id="math-feedback" onclick="handleFeedbackClick()">
        <div id="feedback-icon"></div>
        <div id="feedback-text" style="font-size: 24px; position:absolute; bottom: 20%; color:#555; font-weight:bold; display:none;">點擊下一題</div>
      </div>

    </div>
  </div>

  <div id="modal-list" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <span id="modal-title">列表</span>
        <button class="close-btn" onclick="closeModal()">×</button>
      </div>
      <div class="modal-body" id="modal-body"></div>
    </div>
  </div>

<script>
  // ================= 1. 系統核心邏輯 =================
  function goToGame(gameId) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById('page-' + gameId).classList.add('active');
    document.getElementById('home-btn').style.display = 'block';
    document.body.style.backgroundImage = 'none';

    if(gameId === 'pokemon') {
      document.body.style.backgroundColor = "#f0f8ff"; 
      if(pokeData.length === 0) initPoke();
    } 
    else if(gameId === 'english') {
      document.body.style.backgroundColor = "#FFF5E1";
      if(engData.length === 0) initEng();
    }
    else if(gameId === 'math') {
      document.body.style.backgroundColor = "#E8F5E9";
      resetMath(); 
    }
  }

  function goHome() {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById('page-lobby').classList.add('active');
    document.getElementById('home-btn').style.display = 'none';
    document.body.style.backgroundColor = "#DEB887";
    document.body.style.backgroundImage = `linear-gradient(90deg, rgba(255,255,255,.07) 50%, transparent 50%), linear-gradient(90deg, rgba(255,255,255,.13) 50%, transparent 50%), linear-gradient(90deg, transparent 50%, rgba(255,255,255,.17) 50%), linear-gradient(90deg, transparent 50%, rgba(255,255,255,.19) 50%)`;
  }

  function closeModal() { document.getElementById('modal-list').style.display = 'none'; }

  // 語音相關
  let voices = [];
  function loadVoices() { voices = window.speechSynthesis.getVoices(); }
  if ('speechSynthesis' in window) { loadVoices(); window.speechSynthesis.onvoiceschanged = loadVoices; }

  // ================= 2. 寶可夢邏輯 =================
  let pokeIdx = 0; let pokeData = [];
  const zhuyinMap = {'妙':'ㄇㄧㄠˋ','蛙':'ㄨㄚ','種':'ㄓㄨㄥˇ','子':'ㄗˇ','草':'ㄘㄠˇ','花':'ㄏㄨㄚ','小':'ㄒㄧㄠˇ','火':'ㄏㄨㄛˇ','龍':'ㄌㄨㄥˊ','恐':'ㄎㄨㄥˇ','噴':'ㄆㄣ','傑':'ㄐㄧㄝˊ','尼':'ㄋㄧˊ','龜':'ㄍㄨㄟ','卡':'ㄎㄚˇ','咪':'ㄇㄧ','水':'ㄕㄨㄟˇ','箭':'ㄐㄧㄢˋ','綠':'ㄌㄩˋ','毛':'ㄇㄠ','蟲':'ㄔㄨㄥˊ','鐵':'ㄊㄧㄝˇ','甲':'ㄐㄧㄚˇ','蛹':'ㄩㄥˇ','巴':'ㄅㄚ','大':'ㄉㄚˋ','蝶':'ㄉㄧㄝˊ','獨':'ㄉㄨˊ','角':'ㄐㄧㄠˇ','殼':'ㄎㄜˊ','針':'ㄓㄣ','蜂':'ㄈㄥ','波':'ㄅㄛ','比':'ㄅㄧˇ','鳥':'ㄋㄧㄠˇ','拉':'ㄌㄚ','達':'ㄉㄚˊ','烈':'ㄌㄧㄝˋ','雀':'ㄑㄩㄝˋ','嘴':'ㄗㄨㄟˇ','阿':'ㄚ','柏':'ㄅㄛˊ','蛇':'ㄕㄜˊ','怪':'ㄍㄨㄞˋ','皮':'ㄆㄧˊ','丘':'ㄑㄧㄡ','雷':'ㄌㄟˊ','穿':'ㄔㄨㄢ','山':'ㄕㄢ','鼠':'ㄕㄨˇ','王':'ㄨㄤˊ','多':'ㄉㄨㄛ','蘭':'ㄌㄢˊ','娜':'ㄋㄚˋ','后':'ㄏㄡˋ','朗':'ㄌㄤˇ','力':'ㄌㄧˋ','諾':'ㄋㄨㄛˋ','可':'ㄎㄜˇ','西':'ㄒㄧ','六':'ㄌㄧㄡˋ','尾':'ㄨㄟˇ','九':'ㄐㄧㄡˇ','胖':'ㄆㄤˋ','丁':'ㄉㄧㄥ','超':'ㄔㄠ','音':'ㄧㄣ','蝠':'ㄈㄨˊ','走':'ㄗㄡˇ','路':'ㄌㄨˋ','臭':'ㄔㄡˋ','霸':'ㄅㄚˋ','派':'ㄆㄞˋ','斯':'ㄙ','特':'ㄊㄜˋ','球':'ㄑㄧㄡˊ','摩':'ㄇㄛˊ','魯':'ㄌㄨˇ','蛾':'ㄜˊ','地':'ㄉㄧˋ','三':'ㄙㄢ','喵':'ㄇㄧㄠ','貓':'ㄇㄠ','老':'ㄌㄠˇ','鴨':'ㄧㄚ','哥':'ㄍㄜ','猴':'ㄏㄡˊ','爆':'ㄅㄠˋ','蒂':'ㄉㄧˋ','狗':'ㄍㄡˇ','風':'ㄈㄥ','速':'ㄙㄨˋ','蚊':'ㄨㄣˊ','香':'ㄒㄧㄤ','蝌':'ㄎㄜ','蚪':'ㄉㄡˇ','君':'ㄐㄩㄣ','泳':'ㄩㄥˇ','士':'ㄕˋ','凱':'ㄎㄞˇ','勇':'ㄩㄥˇ','基':'ㄐㄧ','胡':'ㄏㄨˊ','腕':'ㄨㄢˋ','豪':'ㄏㄠˊ','怪':'ㄍㄨㄞˋ','喇':'ㄌㄚˇ','叭':'ㄅㄚ','芽':'ㄧㄚˊ','口':'ㄎㄡˇ','呆':'ㄉㄞ','食':'ㄕˊ','瑪':'ㄇㄚˇ','瑙':'ㄋㄠˇ','毒':'ㄉㄨˊ','刺':'ㄘˋ','母':'ㄇㄨˇ','拳':'ㄑㄩㄢˊ','石':'ㄕˊ','隆':'ㄌㄨㄥˊ','岩':'ㄧㄢˊ','馬':'ㄇㄚˇ','焰':'ㄧㄢˋ','磁':'ㄘˊ','合':'ㄏㄜˊ','一':'ㄧ','蔥':'ㄘㄨㄥ','嘟':'ㄉㄨ','利':'ㄌㄧˋ','海':'ㄏㄞˇ','獅':'ㄕ','白':'ㄅㄞˊ','泥':'ㄋㄧˊ','舌':'ㄕㄜˊ','貝':'ㄅㄟˋ','鬼':'ㄍㄨㄟˇ','通':'ㄊㄨㄥ','耿':'ㄍㄥˇ','催':'ㄘㄨㄟ','眠':'ㄇㄧㄢˊ','貘':'ㄇㄛˋ','引':'ㄧㄣˇ','夢':'ㄇㄥˋ','人':'ㄖㄣˊ','鉗':'ㄑㄧㄢˊ','蟹':'ㄒㄧㄝˋ','巨':'ㄐㄩˋ','霹':'ㄆㄧ','靂':'ㄌㄧˋ','電':'ㄉㄧㄢˋ','頑':'ㄨㄢˊ','蛋':'ㄉㄢˋ','椰':'ㄧㄝˊ','樹':'ㄕㄨˋ','嘎':'ㄍㄚ','啦':'ㄌㄚ','飛':'ㄈㄟ','腿':'ㄊㄨㄟˇ','郎':'ㄌㄤˊ','快':'ㄎㄨㄞˋ','瓦':'ㄨㄚˇ','雙':'ㄕㄨㄤ','彈':'ㄉㄢˋ','犀':'ㄒㄧ','牛':'ㄋㄧㄡˊ','鑽':'ㄗㄨㄢ','獸':'ㄕㄡˋ','吉':'ㄐㄧˊ','蔓':'ㄇㄢˋ','藤':'ㄊㄥˊ','袋':'ㄉㄞˋ','墨':'ㄇㄛˋ','金':'ㄐㄧㄣ','魚':'ㄩˊ','星':'ㄒㄧㄥ','寶':'ㄅㄠˇ','魔':'ㄇㄛˊ','牆':'ㄑㄧㄤˊ','偶':'ㄡˇ','天':'ㄊㄧㄢ','螳':'ㄊㄤˊ','螂':'ㄌㄤˊ','迷':'ㄇㄧˊ','唇':'ㄔㄨㄣˊ','姐':'ㄐㄧㄝˇ','擊':'ㄐㄧˊ','羅':'ㄌㄨㄛˊ','肯':'ㄎㄣˇ','泰':'ㄊㄞˋ','鯉':'ㄌㄧˇ','暴':'ㄅㄠˋ','普':'ㄆㄨˇ','百':'ㄅㄞˇ','變':'ㄅㄧㄢˋ','伊':'ㄧ','布':'ㄅㄨˋ','菊':'ㄐㄩˊ','邊':'ㄅㄧㄢ','化':'ㄏㄨㄚˋ','盔':'ㄎㄨㄟ','鐮':'ㄌㄧㄢˊ','刀':'ㄉㄠ','翼':'ㄧˋ','急':'ㄐㄧˊ','凍':'ㄉㄨㄥˋ','閃':'ㄕㄢˇ','哈':'ㄏㄚ','克':'ㄎㄜˋ','亞':'ㄧㄚˋ','幻':'ㄏㄨㄢˋ','葉':'ㄧㄝˋ','竺':'ㄓㄨˊ','葵':'ㄎㄨㄟˊ','鋸':'ㄐㄩˋ','鱷':'ㄜˋ','藍':'ㄌㄢˊ','立':'ㄌㄧˋ','咕':'ㄍㄨ','夜':'ㄧㄝˋ','鷹':'ㄧㄥ','芭':'ㄅㄚ','瓢':'ㄆㄧㄠˊ','安':'ㄢ','圓':'ㄩㄢˊ','絲':'ㄙ','蛛':'ㄓㄨ','叉':'ㄔㄚ','字':'ㄗˋ','燈':'ㄉㄥ','籠':'ㄌㄨㄥˊ','寶':'ㄅㄠˇ','波':'ㄅㄛ','古':'ㄍㄨˇ','然':'ㄖㄢˊ','咩':'ㄇㄧㄝ','綿':'ㄇㄧㄢˊ','美':'ㄇㄟˇ','麗':'ㄌㄧˋ','露':'ㄌㄨˋ','才':'ㄘㄞˊ','皇':'ㄏㄨㄤˊ','毽':'ㄐㄧㄢˋ','棉':'ㄇㄧㄢˊ','長':'ㄔㄤˊ','手':'ㄕㄡˇ','向':'ㄒㄧㄤˋ','日':'ㄖˋ','陽':'ㄧㄤˊ','瑪':'ㄇㄚˇ','烏':'ㄨ','沼':'ㄓㄠˇ','太':'ㄊㄞˋ','暗':'ㄢˋ','鴉':'ㄧㄚ','未':'ㄨㄟˋ','知':'ㄓ','圖':'ㄊㄨˊ','騰':'ㄊㄥˊ','果':'ㄍㄨㄛˇ','翁':'ㄨㄥ','麒':'ㄑㄧˊ','麟':'ㄌㄧㄣˊ','奇':'ㄑㄧˊ','榛':'ㄓㄣ','佛':'ㄈㄛˊ','土':'ㄊㄨˇ','弟':'ㄉㄧˋ','蠍':'ㄒㄧㄝ','鋼':'ㄍㄤ','盧':'ㄌㄨˊ','千':'ㄑㄧㄢ','壺':'ㄏㄨˊ','赫':'ㄏㄜˋ','狃':'ㄋㄧㄡˇ','熊':'ㄒㄩㄥˊ','圈':'ㄑㄩㄢ','熔':'ㄖㄨㄥˊ','蝸':'ㄍㄨㄚ','豬':'ㄓㄨ','珊':'ㄕㄢ','瑚':'ㄏㄨˊ','炮':'ㄆㄠˋ','章':'ㄓㄤ','戴':'ㄉㄞˋ','信':'ㄒㄧㄣˋ','使':'ㄕˇ','翅':'ㄔˋ','盔':'ㄎㄨㄟ','頓':'ㄉㄨㄣˋ','驚':'ㄐㄧㄥ','鹿':'ㄌㄨˋ','無':'ㄨˊ','畏':'ㄨㄟˋ','戰':'ㄓㄢˋ','舞':'ㄨˇ','娃':'ㄨㄚˊ','奶':'ㄋㄞˇ','罐':'ㄍㄨㄢˋ','幸':'ㄒㄧㄥˋ','福':'ㄈㄨˊ','炎':'ㄧㄢˊ','帝':'ㄉㄧˋ','幼':'ㄧㄡˋ','班':'ㄅㄢ','洛':'ㄌㄨㄛˋ','鳳':'ㄈㄥˋ','時':'ㄕˊ','木':'ㄇㄨˋ','守':'ㄕㄡˇ','宮':'ㄍㄨㄥ','林':'ㄌㄧㄣ','蜥':'ㄒㄧ','蜴':'ㄧˋ','稚':'ㄓˋ','雞':'ㄐㄧ','壯':'ㄓㄨㄤˋ','躍':'ㄩㄝˋ','狼':'ㄌㄤˊ','犬':'ㄑㄩㄢˇ','紋':'ㄨㄣˊ','直':'ㄓˊ','衝':'ㄔㄨㄥ','刺':'ㄘˋ','狩':'ㄕㄡˋ','獵':'ㄌㄧㄝˋ','盾':'ㄉㄨㄣˋ','粉':'ㄈㄣˇ','蓮':'ㄌㄧㄢˊ','帽':'ㄇㄠˋ','童':'ㄊㄨㄥˊ','樂':'ㄌㄜˋ','河':'ㄏㄜˊ','橡':'ㄒㄧㄤˋ','實':'ㄕˊ','鼻':'ㄅㄧˊ','狡':'ㄐㄧㄠˇ','猾':'ㄏㄨㄚˊ','狗':'ㄍㄡˇ','傲':'ㄠˋ','骨':'ㄍㄨˇ','燕':'ㄧㄢˋ','翅':'ㄔˋ','鷗':'ㄡ','魯':'ㄌㄨˇ','莉':'ㄌㄧˋ','沙':'ㄕㄚ','奈':'ㄋㄞˋ','朵':'ㄉㄨㄛˇ','溜':'ㄌㄧㄡ','糖':'ㄊㄤˊ','雨':'ㄩˇ','蘑':'ㄇㄛˊ','菇':'ㄍㄨ','斗':'ㄉㄡˇ','笠':'ㄌㄧˋ','懶':'ㄌㄢˇ','獺':'ㄊㄚˋ','過':'ㄍㄨㄛˇ','動':'ㄉㄨㄥˋ','猿':'ㄩㄢˊ','請':'ㄑㄧㄥˇ','假':'ㄐㄧㄚˋ','居':'ㄐㄩ','忍':'ㄖㄣˇ','面':'ㄇㄧㄢˋ','脫':'ㄊㄨㄛ','咕':'ㄍㄨ','妞':'ㄋㄧㄡ','吼':'ㄏㄡˇ','幕':'ㄇㄨˋ','下':'ㄒㄧㄚˋ','掌':'ㄓㄤˇ','朝':'ㄔㄠˊ','北':'ㄅㄟˇ','優':'ㄧㄡ','雅':'ㄧㄚˇ','勾':'ㄍㄡ','魂':'ㄏㄨㄣˊ','眼':'ㄧㄢˇ','可':'ㄎㄜˇ','波':'ㄅㄛ','恰':'ㄑㄧㄚˋ','落':'ㄌㄨㄛˊ','正':'ㄓㄥˋ','拍':'ㄆㄞ','負':'ㄈㄨˋ','螢':'ㄧㄥˊ','甜':'ㄊㄧㄢˊ','薔':'ㄑㄧㄤˊ','薇':'ㄨㄟ','溶':'ㄖㄨㄥˊ','吞':'ㄊㄨㄣ','牙':'ㄧㄚˊ','鯊':'ㄕㄚ','鯨':'ㄐㄧㄥ','炭':'ㄊㄢˋ','跳':'ㄊㄧㄠˋ','噗':'ㄆㄨ','晃':'ㄏㄨㄤˇ','斑':'ㄅㄢ','顎':'ㄜˋ','蟻':'ㄧˇ','漠':'ㄇㄛˋ','蜻':'ㄑㄧㄥ','蜓':'ㄊㄧㄥˊ','仙':'ㄒㄧㄢ','掌':'ㄓㄤˇ','歌':'ㄍㄜ','七':'ㄑㄧ','夕':'ㄒㄧ','青':'ㄑㄧㄥ','斬':'ㄓㄢˇ','飯':'ㄈㄢˋ','匙':'ㄔˊ','月':'ㄩㄝˋ','太':'ㄊㄞˋ','泥':'ㄋㄧˊ','鲶':'ㄋㄧㄢˊ','蝦':'ㄒㄧㄚ','螯':'ㄠˊ','秤':'ㄔㄥˋ','念':'ㄋㄧㄢˋ','觸':'ㄔㄨˋ','搖':'ㄧㄠˊ','籃':'ㄌㄢˊ','太':'ㄊㄞˋ','羽':'ㄩˇ','醜':'ㄔㄡˇ','納':'ㄋㄚˋ','漂':'ㄆㄧㄠ','浮':'ㄈㄨˊ','泡':'ㄆㄠˋ','怨':'ㄩㄢˋ','影':'ㄧㄥˇ','詛':'ㄗㄨˇ','咒':'ㄓㄡˋ','巡':'ㄒㄩㄣˊ','靈':'ㄌㄧㄥˊ','彷':'ㄈㄤˇ','徨':'ㄏㄨㄤˊ','熱':'ㄖㄜˋ','帶':'ㄉㄞˋ','鈴':'ㄌㄧㄥˊ','勃':'ㄅㄛˊ','梭':'ㄙㄨㄛ','雪':'ㄒㄩㄝˇ','護':'ㄏㄨˋ','豹':'ㄅㄠˋ','珍':'ㄓㄣ','珠':'ㄓㄨ','獵':'ㄌㄧㄝˋ','櫻':'ㄧㄥ','空':'ㄎㄨㄥ','棘':'ㄐㄧˊ','愛':'ㄞˋ','心':'ㄒㄧㄣ','甲':'ㄐㄧㄚˇ','屬':'ㄕㄨˇ','吉':'ㄐㄧˊ','帝':'ㄉㄧˋ','歐':'ㄡ','蓋':'ㄍㄞˋ','固':'ㄍㄨˋ','希':'ㄒㄧ','苗':'ㄇㄧㄠˊ','林':'ㄌㄧㄣ','台':'ㄊㄞˊ','猛':'ㄇㄥˇ','加':'ㄐㄧㄚ','曼':'ㄇㄢˋ','姆':'ㄇㄨˇ','狸':'ㄌㄧˊ','法':'ㄈㄚˇ','師':'ㄕ','箱':'ㄒㄧㄤ','蟀':'ㄕㄨㄞˋ','勒':'ㄌㄜ','倫':'ㄌㄨㄣˊ','琴':'ㄑㄧㄣˊ','含':'ㄏㄢˊ','羞':'ㄒㄧㄡ','苞':'ㄅㄠ','絲':'ㄙ','蓋':'ㄍài','槌':'ㄔㄨㄟˊ','城':'ㄔㄥˊ','結':'ㄐㄧㄝˊ','貴':'ㄍㄨㄟˋ','婦':'ㄈㄨˋ','紳':'ㄕㄣ','蜜':'ㄇㄧˋ','帕':'ㄆㄚˋ','圈':'ㄑㄩㄢ','鼬':'ㄧㄡˋ','浮':'ㄈㄨˊ','潛':'ㄑㄧㄢˊ','櫻':'ㄧㄥ','無':'ㄨˊ','殼':'ㄎㄜˊ','兔':'ㄊㄨˋ','捲':'ㄐㄩㄢˇ','耳':'ㄦˇ','烏':'ㄨ','鴉':'ㄧㄚ','頭':'ㄊㄡˊ','魅':'ㄇㄟˋ','東':'ㄉㄨㄥ','施':'ㄕ','鐺':'ㄉㄤ','響':'ㄒㄧㄤˇ','噗':'ㄆㄨ','坦':'ㄊㄢˇ','銅':'ㄊㄨㄥˊ','鏡':'ㄐㄧㄥˋ','鐘':'ㄓㄨㄥ','盆':'ㄆㄣˊ','好':'ㄏㄠˇ','運':'ㄩㄣˋ','聒':'ㄍㄨㄚ','噪':'ㄗㄠˋ','鯊':'ㄕㄚ','咬':'ㄧㄠˇ','河':'ㄏㄜˊ','馬':'ㄇㄚˇ','良':'ㄌㄧㄤˊ','骷':'ㄎㄨ','籠':'ㄌㄨㄥˊ','霓':'ㄋㄧ','虹':'ㄏㄨㄥ','笠':'ㄌㄧˋ','狃':'ㄋㄧㄡˇ','自':'ㄗˋ','舔':'ㄊㄧㄢˇ','遠':'ㄩㄢˇ','蜓':'ㄊㄧㄥˊ','葉':'ㄧㄝˋ','象':'ㄒㄧㄤˋ','艾':'ㄞˋ','路':'ㄌㄨˋ','黑':'ㄏㄟ','妖':'ㄧㄠ','女':'ㄋㄩˇ','姆':'ㄇㄨˇ','席':'ㄒㄧˊ','騎':'ㄑㄧˊ','克':'ㄎㄜˋ','霏':'ㄈㄟ','達':'ㄉㄚˊ','萊':'ㄌㄞˊ','謝':'ㄒㄧㄝˋ','米':'ㄇㄧˇ','爾':'ㄦˇ','宙':'ㄓㄡˋ','比':'ㄅㄧˇ','提':'ㄊㄧˊ','藤':'ㄊㄥˊ','君':'ㄐㄩㄣ','主':'ㄓㄨˇ','暖':'ㄋㄨㄢˇ','炒':'ㄔㄠˇ','武':'ㄨˇ','獺':'ㄊㄚˋ','刃':'ㄖㄣˋ','丸':'ㄨㄢˊ','劍':'ㄐㄧㄢˋ','探':'ㄊㄢˋ','哨':'ㄕㄠˋ','約':'ㄩㄝ','哈':'ㄏㄚ','長':'ㄔㄤˊ','扒':'ㄆㄚ','手':'ㄕㄡˇ','酷':'ㄎㄨˋ','花':'ㄏㄨㄚ','椰':'ㄧㄝˊ','冷':'ㄌㄥˇ','豆':'ㄉㄡˋ','鴿':'ㄍㄜ','傲':'ㄠˋ','雉':'ㄓˋ','幔':'ㄇㄢˋ','龐':'ㄆㄤˊ','滾':'ㄍㄨㄣˇ','心':'ㄒㄧㄣ','螺':'ㄌㄨㄛˊ','釘':'ㄉㄧㄥ','差':'ㄔㄚ','不':'ㄅㄨˋ','搬':'ㄅㄢ','運':'ㄩㄣˋ','匠':'ㄐㄧㄤˋ','修':'ㄒㄧㄡ','繕':'ㄕㄢˋ','蟾':'ㄔㄢˊ','蜍':'ㄔㄨˊ','投':'ㄊㄡˊ','摔':'ㄕㄨㄞ','打':'ㄉㄚˇ','繭':'ㄐㄧㄢˇ','保':'ㄅㄠˇ','母':'ㄇㄨˇ','足':'ㄗㄨˊ','蜈':'ㄨ','蚣':'ㄍㄨㄥ','輪':'ㄌㄨㄣˊ','棉':'ㄇㄧㄢˊ','裙':'ㄑㄩㄣˊ','兒':'ㄦˊ','野':'ㄧㄝˇ','蠻':'ㄇㄢˊ','鱸':'ㄌㄨˊ','混':'ㄏㄨㄣˋ','流':'ㄌㄧㄡˊ','氓':'ㄇㄤˊ','摩':'ㄇㄛˊ','狒':'ㄈㄟˋ','沙':'ㄕㄚ','拉':'ㄌㄚ','殿':'ㄉㄧㄢˋ','居':'ㄐㄩ','滑':'ㄏㄨㄚˊ','巾':'ㄐㄧㄣ','徵':'ㄓㄥ','哭':'ㄎㄨ','死':'ㄙˇ','神':'ㄕㄣˊ','棺':'ㄍㄨㄢ','原':'ㄩㄢˊ','蓋':'ㄍㄞˋ','肋':'ㄌㄜˋ','始':'ㄕˇ','祖':'ㄗㄨˇ','破':'ㄆㄛˋ','灰':'ㄏㄨㄟ','塵':'ㄔㄣˊ','索':'ㄙㄨㄛˇ','沫':'ㄇㄛˋ','栗':'ㄌㄧˋ','諾':'ㄋㄨㄛˋ','德':'ㄉㄜˊ','單':'ㄉㄢ','卵':'ㄌㄨㄢˇ','細':'ㄒㄧˋ','胞':'ㄅㄠ','造':'ㄗㄠˋ','舞':'ㄨˇ','鵝':'ㄜˊ','迷':'ㄇㄧˊ','你':'ㄋㄧˇ','季':'ㄐㄧˋ','萌':'ㄇㄥˊ','芽':'ㄧㄚˊ','蓋':'ㄍㄞˋ','哎':'ㄞ','呀':'ㄧㄚ','敗':'ㄅㄞˋ','輕':'ㄑㄧㄥ','飄':'ㄆㄧㄠ','麻':'ㄇㄚˊ','鰻':'ㄇㄢˊ','燭':'ㄓㄨˊ','光':'ㄍㄨㄤ','燈':'ㄉㄥ','晶':'ㄐㄧㄥ','斧':'ㄈㄨˇ','嚏':'ㄊㄧˋ','凍':'ㄉㄨㄥˋ','原':'ㄩㄢˊ','幾':'ㄐㄧ','何':'ㄏㄜˊ','敏':'ㄇㄧㄣˇ','捷':'ㄐㄧㄝˊ','泥':'ㄋㄧˊ','巴':'ㄅㄚ','功':'ㄍㄨㄥ','夫':'ㄈㄨ','師':'ㄕ','父':'ㄈㄨˋ','赤':'ㄔˋ','駒':'ㄐㄩ','刀':'ㄉㄠ','兵':'ㄅㄧㄥ','劈':'ㄆㄧ','令':'ㄌㄧㄥˋ','炸':'ㄓㄚˋ','禿':'ㄊㄨ','熔':'ㄖㄨㄥˊ','蟻':'ㄧˇ','首':'ㄕㄡˇ','燃':'ㄖㄢˊ','燒':'ㄕㄠ','帕':'ㄆㄚˋ','捲':'ㄐㄩㄢˇ','雲':'ㄩㄣˊ','地':'ㄉㄧˋ','酋':'ㄑㄧㄡ','凱':'ㄎㄞˇ','耶':'ㄧㄝ','塔':'ㄊㄚˇ','諾':'ㄋㄨㄛˋ','賽':'ㄙㄞˋ','栗':'ㄌㄧˋ','布':'ㄅㄨˋ','里':'ㄌㄧˇ','狐':'ㄏㄨˊ','呱':'ㄍㄨㄚ','賀':'ㄏㄜˋ','忍':'ㄖㄣˇ','掘':'ㄐㄩㄝˊ','攉':'ㄏㄨㄛ','彩':'ㄘㄞˇ','蓓':'ㄅㄟˋ','蒂':'ㄉㄧˋ','潔':'ㄐㄧㄝˊ','夫':'ㄈㄨ','坐':'ㄗㄨㄛˋ','騎':'ㄑㄧˊ','羊':'ㄧㄤˊ','熊':'ㄒㄩㄥˊ','流':'ㄌㄧㄡˊ','多':'ㄉㄨㄛ','麗':'ㄌㄧˋ','米':'ㄇㄧˇ','獨':'ㄉㄨˊ','堅':'ㄐㄧㄢ','盾':'ㄉㄨㄣˋ','香':'ㄒㄧㄤ','芳':'ㄈㄤ','精':'ㄐㄧㄥ','芙':'ㄈㄨˊ','妮':'ㄋㄧ','豪':'ㄏㄠˊ','喇':'ㄌㄚˇ','魷':'ㄧㄡˊ','龜':'ㄍㄨㄟ','腳':'ㄐㄧㄠˇ','鎧':'ㄎㄞˇ','垃':'ㄌㄜˋ','藻':'ㄗㄠˇ','臂':'ㄅㄧˋ','槍':'ㄑㄧㄤ','炮':'ㄆㄠˋ','傘':'ㄙㄢˇ','蜥':'ㄒㄧ','顎':'ㄜˋ','冰':'ㄅㄧㄥ','仙':'ㄒㄧㄢ','咚':'ㄉㄨㄥ','碎':'ㄙㄨㄟˋ','黏':'ㄋㄧㄢˊ','鑰':'ㄧㄠˋ','圈':'ㄑㄩㄢ','朽':'ㄒㄧㄡˇ','南':'ㄋㄢˊ','瓜':'ㄍㄨㄚ','嗡':'ㄨㄥ','波':'ㄅㄛ','哲':'ㄓㄜˊ','爾':'ㄦˇ','斐':'ㄈㄟˇ','基':'ㄐㄧ','格':'ㄍㄜˊ','胡':'ㄏㄨˊ','帕':'ㄆㄚˋ','尼':'ㄋㄧˊ','恩':'ㄣ','木':'ㄇㄨˋ','梟':'ㄒㄧㄠ','狙':'ㄐㄩ','射':'ㄕㄜˋ','熾':'ㄔˋ','焰':'ㄧㄢˋ','咆':'ㄆㄠˊ','哮':'ㄒㄧㄠ','虎':'ㄏㄨˇ','漾':'ㄧㄤˋ','西':'ㄒㄧ','壬':'ㄖㄣˊ','篤':'ㄉㄨˇ','銃':'ㄔㄨㄥˋ','強':'ㄑㄧㄤˊ','鍬':'ㄑㄧㄠ','農':'ㄋㄨㄥˊ','勝':'ㄕㄥˋ','萌':'ㄇㄥˊ','虻':'ㄇㄥˊ','鬃':'ㄗㄨㄥ','弱':'ㄖㄨㄛˋ','壞':'ㄏㄨㄞˋ','驢':'ㄌㄩˊ','挽':'ㄨㄢˇ','滴':'ㄉㄧ','偽':'ㄨㄟˋ','蘭':'ㄌㄢˊ','睡':'ㄕㄨㄟˋ','罩':'ㄓㄠˋ','盜':'ㄉㄠˋ','甜':'ㄊㄧㄢˊ','竹':'ㄓㄨˊ','療':'ㄌㄧㄠˊ','環':'ㄏㄨㄢˊ','智':'ㄓˋ','揮':'ㄏㄨㄟ','猩':'ㄒㄧㄥ','擲':'ㄓˊ','膽':'ㄉㄢˇ','具':'ㄐㄩˋ','沙':'ㄕㄚ','丘':'ㄑㄧㄡ','噬':'ㄕˋ','堡':'ㄅㄠˇ','爺':'ㄧㄝˊ','參':'ㄕㄣ','銀':'ㄧㄣˊ','伴':'ㄅㄢˋ','隕':'ㄩㄣˇ','枕':'ㄓㄣˇ','托':'ㄊㄨㄛ','戈':'ㄍㄜ','德':'ㄉㄜˊ','謎':'ㄇㄧˊ','擬':'ㄋㄧˇ','磨':'ㄇㄛˊ','舵':'ㄉㄨㄛˋ','輪':'ㄌㄨㄣˊ','鱗':'ㄌㄧㄣˊ','杖':'ㄓㄤˋ','璞':'ㄆㄨˊ','鳴':'ㄇㄧㄥˊ','哞':'ㄇㄡ','鰭':'ㄑㄧˊ','科':'ㄎㄜ','斯':'ㄙ','索':'ㄙㄨㄛˇ','爾':'ㄦˇ','迦':'ㄐㄧㄚ','露':'ㄌㄨˋ','奈':'ㄋㄞˋ','雅':'ㄧㄚˇ','虛':'ㄒㄩ','吾':'ㄨˊ','肌':'ㄐㄧ','費':'ㄈㄟˇ','洛':'ㄌㄨㄛˋ','束':'ㄕㄨˋ','火':'ㄏㄨㄛˇ','輝':'ㄏㄨㄟ','紙':'ㄓˇ','御':'ㄩˋ','惡':'ㄜˋ','機':'ㄐㄧ','夏':'ㄒㄧㄚˋ','四':'ㄙˋ','壘':'ㄌㄟˇ','砰':'ㄆㄥ','丑':'ㄔㄡˇ','捷':'ㄐㄧㄝˊ','錄':'ㄌㄨˋ','坦':'ㄊㄢˇ','梅':'ㄇㄟˊ','敲':'ㄑㄧㄠ','啪':'ㄆㄚ','咚':'ㄉㄨㄥ','轟':'ㄏㄨㄥ','擂':'ㄌㄟˊ','剛':'ㄍㄤ','騰':'ㄊㄥˊ','蹴':'ㄘㄨˋ','將':'ㄐㄧㄤˋ','淚':'ㄌㄟˋ','澀':'ㄙㄜˋ','千':'ㄑㄧㄢ','面':'ㄇㄧㄢˋ','役':'ㄧˋ','貪':'ㄊㄢ','藏':'ㄘㄤˊ','飽':'ㄅㄠˇ','稚':'ㄓˋ','索':'ㄙㄨㄛˇ','偵':'ㄓㄣ','罩':'ㄓㄠˋ','歐':'ㄡ','普':'ㄆㄨˇ','偷':'ㄊㄡ','狐':'ㄏㄨˊ','幼':'ㄧㄡˋ','棉':'ㄇㄧㄢˊ','蓬':'ㄆㄥˊ','辨':'ㄅㄧㄢˋ','咬':'ㄧㄠˇ','噬':'ㄕˋ','汪':'ㄨㄤ','逐':'ㄓㄨˊ','炭':'ㄊㄢˋ','車':'ㄔㄜ','啃':'ㄎㄣˇ','蘋':'ㄆㄧㄥˊ','裹':'ㄍㄨㄛˇ','豐':'ㄈㄥ','蜜':'ㄇㄧˋ','螺':'ㄌㄨㄛˊ','蟒':'ㄇㄤˇ','梭':'ㄙㄨㄛ','戽':'ㄏㄨˋ','斗':'ㄉㄡˇ','尖':'ㄐㄧㄢ','嬰':'ㄧㄥ','顫':'ㄓㄢˋ','弦':'ㄒㄧㄢˊ','蠑':'ㄖㄨㄥˊ','螈':'ㄩㄢˊ','焚':'ㄈㄣˊ','蛸':'ㄕㄠ','師':'ㄕ','悲':'ㄅㄟ','茶':'ㄔㄚ','怖':'ㄅㄨˋ','思':'ㄙ','莉':'ㄌㄧˋ','姆':'ㄇㄨˇ','溫':'ㄨㄣ','搗':'ㄉㄠˇ','詐':'ㄓㄚˋ','唬':'ㄏㄨˇ','堵':'ㄉㄨˇ','攔':'ㄌㄢˊ','蔥':'ㄘㄨㄥ','遊':'ㄧㄡˊ','踏':'ㄊㄚˋ','板':'ㄅㄢˇ','奶':'ㄋㄞˇ','霜':'ㄕㄨㄤ','列':'ㄌㄧㄝˋ','陣':'ㄓㄣˋ','嚓':'ㄘㄚ','絨':'ㄖㄨㄥˊ','丁':'ㄉㄧㄥ','砌':'ㄑㄧˋ','管':'ㄍㄨㄢˇ','侍':'ㄕˋ','莫':'ㄇㄛˋ','魯':'ㄌㄨˇ','銅':'ㄊㄨㄥˊ','鰓':'ㄙㄞ','鋁':'ㄌㄩˇ','梅':'ㄇㄟˊ','巴':'ㄅㄚ','蒼':'ㄘㄤ','響':'ㄒㄧㄤˇ','瑪':'ㄇㄚˇ','然':'ㄖㄢˊ','極':'ㄐㄧˊ','汰':'ㄊㄞˋ','徒':'ㄊㄨˊ','薩':'ㄙㄚˋ','戮':'ㄌㄨˋ','鐸':'ㄉㄨㄛˊ','靈':'ㄌㄧㄥˊ','幽':'ㄧㄡ','蕾':'ㄌㄟˇ','冠':'ㄍㄨㄢ','詭':'ㄍㄨㄟˇ','劈':'ㄆㄧ','斧':'ㄈㄨˇ','玄':'ㄒㄩㄢˊ','眷':'ㄐㄩㄢˋ','戀':'ㄌㄧㄢˋ','新':'ㄒㄧㄣ','蕾':'ㄌㄟˇ','假':'ㄐㄧㄚˇ','炙':'ㄓˋ','燙':'ㄊㄤˋ','潤':'ㄖㄨㄣˋ','湧':'ㄩㄥˇ','狂':'ㄎㄨㄤˊ','歡':'ㄏㄨㄢ','浪':'ㄌㄤˋ','愛':'ㄞˋ','吃':'ㄔ','豚':'ㄊㄨㄣˊ','飄':'ㄆㄧㄠ','香':'ㄒㄧㄤ','團':'ㄊㄨㄢˊ','操':'ㄘㄠ','陷':'ㄒㄧㄢˋ','蟋':'ㄒㄧ','蟀':'ㄕㄨㄞˋ','布':'ㄅㄨˋ','撥':'ㄅㄛ','對':'ㄉㄨㄟˋ','家':'ㄐㄧㄚ','仔':'ㄗˇ','包':'ㄅㄠ','芙':'ㄈㄨˊ','紐':'ㄋㄧㄡˇ','怒':'ㄋㄨˋ','鸚':'ㄧㄥ','鹽':'ㄧㄢˊ','壘':'ㄌㄟˇ','蓮':'ㄌㄧㄢˊ','鎧':'ㄎㄞˇ','蒼':'ㄘㄤ','刃':'ㄖㄣˋ','光':'ㄍㄨㄤ','蚪':'ㄉㄡˇ','肚':'ㄉㄨˋ','偶':'ㄡˇ','教':'ㄐㄧㄠˋ','滋':'ㄗ','汁':'ㄓ','鼴':'ㄧㄢˇ','塗':'ㄊㄨˊ','標':'ㄅㄧㄠ','客':'ㄎㄜˋ','納':'ㄋㄚˋ','噬':'ㄕˋ','草':'ㄘㄠˇ','崖':'ㄧㄚˊ','熱':'ㄖㄜˋ','辣':'ㄌㄚˋ','狠':'ㄏㄣˇ','椒':'ㄐㄧㄠ','滾':'ㄍㄨㄣˇ','聖':'ㄕㄥˋ','墓':'ㄇㄨˋ','揚':'ㄧㄤˊ','雛':'ㄔㄨˊ','艷':'ㄧㄢˋ','鴕':'ㄊㄨㄛˊ','鍛':'ㄉㄨㄢˋ','巧':'ㄑㄧㄠˇ','普':'ㄆㄨˇ','隆':'ㄌㄨㄥˊ','摩':'ㄇㄛˊ','托':'ㄊㄨㄛ','拖':'ㄊㄨㄛ','蚓':'ㄧㄣˇ','晶':'ㄐㄧㄥ','纏':'ㄔㄢˊ','紅':'ㄏㄨㄥ','鶴':'ㄏㄜè','鯨':'ㄐㄧㄥ','浩':'ㄏㄠˋ','鱈':'ㄒㄩㄝˇ','吼':'ㄏㄡˇ','米':'ㄇㄧˇ','棄':'ㄑㄧˋ','世':'ㄕˋ','仆':'ㄆㄨ','將':'ㄐㄧㄤ','軍':'ㄐㄩㄣ','雄':'ㄒㄩㄥˊ','偉':'ㄨㄟˇ','猛':'ㄇㄥˇ','惡':'ㄜˋ','振':'ㄓㄣˋ','爬':'ㄆㄚˊ','鐵':'ㄊㄧㄝˇ','轍':'ㄔㄜˋ','跡':'ㄐㄧ','袱':'ㄈㄨˊ','膀':'ㄅㄤˇ','頸':'ㄐㄧㄥˇ','荊':'ㄐㄧㄥ','棘':'ㄐㄧˊ','涼':'ㄌㄧㄤˊ','脊':'ㄐㄧˇ','戟':'ㄐㄧˇ','財':'ㄘㄞˊ','賽':'ㄙㄞˋ','富':'ㄈㄨˋ','簡':'ㄐㄧㄢˇ','蝸':'ㄍㄨㄚ','鼎':'ㄉㄧㄥˇ','玉':'ㄩˋ','轟':'ㄏㄨㄥ','鳴':'ㄇㄧㄥˊ','故':'ㄍㄨˋ','密':'ㄇㄧˋ','盪':'ㄉㄤˋ','裹':'ㄍㄨㄛˇ','斯':'ㄙ','魔':'ㄇㄛˊ','粗':'ㄘㄨ','夠':'ㄍㄡ4','讚':'ㄗㄢˋ','願':'ㄩㄢˋ','增':'ㄗㄥ','吉':'ㄐㄧˊ','厄':'ㄜˋ','橋':'ㄑㄧㄠˊ','集':'ㄐㄧˊ','磐':'ㄆㄢˊ','太':'ㄊㄞˋ','巴':'ㄅㄚ','戈':'ㄍㄜ','桃':'ㄊㄠˊ','歹':'ㄉㄞˇ','郎':'ㄌㄤˊ','不':'ㄅㄨˋ','倒':'ㄉㄠˇ','翁':'ㄨㄥ'};

  function initPoke() {
    const gen1=["妙蛙種子","妙蛙草","妙蛙花","小火龍","火恐龍","噴火龍","傑尼龜","卡咪龜","水箭龜","綠毛蟲","鐵甲蛹","巴大蝶","獨角蟲","鐵殼蛹","大針蜂","波波","比比鳥","大比鳥","小拉達","拉達","烈雀","大嘴雀","阿柏蛇","阿柏怪","皮卡丘","雷丘","穿山鼠","穿山王","尼多蘭","尼多娜","尼多后","尼多朗","尼多力諾","尼多王","皮皮","皮可西","六尾","九尾","胖丁","胖可丁","超音蝠","大嘴蝠","走路草","臭臭花","霸王花","派拉斯","派拉斯特","毛球","摩魯蛾","地鼠","三地鼠","喵喵","貓老大","可達鴨","哥達鴨","猴怪","火爆猴","卡蒂狗","風速狗","蚊香蝌蚪","蚊香君","蚊香泳士","凱西","勇基拉","胡地","腕力","豪力","怪力","喇叭芽","口呆花","大食花","瑪瑙水母","毒刺水母","小拳石","隆隆石","隆隆岩","小火馬","烈焰馬","呆呆獸","呆殼獸","小磁怪","三合一磁怪","大蔥鴨","嘟嘟","嘟嘟利","小海獅","白海獅","臭泥","臭臭泥","大舌貝","刺甲貝","鬼斯","鬼斯通","耿鬼","大岩蛇","催眠貘","引夢貘人","大鉗蟹","巨鉗蟹","霹靂電球","頑皮雷彈","蛋蛋","椰蛋樹","卡拉卡拉","嘎啦嘎啦","飛腿郎","快拳郎","大舌頭","瓦斯彈","雙彈瓦斯","獨角犀牛","鑽角犀獸","吉利蛋","蔓藤怪","袋獸","墨海馬","海刺龍","角金魚","金魚王","海星星","寶石海星","魔牆人偶","飛天螳螂","迷唇姐","電擊獸","鴨嘴火獸","凱羅斯","肯泰羅","鯉魚王","暴鯉龍","拉普拉斯","百變怪","伊布","水伊布","雷伊布","火伊布","多邊獸","菊石獸","多刺菊石獸","化石盔","鐮刀盔","化石翼龍","卡比獸","急凍鳥","閃電鳥","火焰鳥","迷你龍","哈克龍","快龍","超夢","夢幻"];
    const gen2=["菊草葉","月桂葉","大竺葵","火球鼠","火岩鼠","火暴獸","小鋸鱷","藍鱷","大力鱷","尾立","大尾立","咕咕","貓頭夜鷹","芭瓢蟲","安瓢蟲","圓絲蛛","阿利多斯","叉字蝠","燈籠魚","電燈怪","皮丘","皮寶寶","寶寶丁","波克比","波克基古","天然雀","天然鳥","咩利羊","綿綿","電龍","美麗花","瑪力露","瑪力露麗","樹才怪","蚊香蛙皇","毽子草","毽子花","毽子棉","長尾怪手","向日種子","向日花怪","陽陽瑪","烏波","沼王","太陽伊布","月亮伊布","黑暗鴉","呆呆王","夢妖","未知圖騰","果然翁","麒麟奇","榛果球","佛烈托斯","土龍弟弟","天蠍","大鋼蛇","布魯","布魯皇","千針魚","巨鉗螳螂","壺壺","赫拉克羅斯","狃拉","熊寶寶","圈圈熊","熔岩蟲","熔岩蝸牛","小山豬","長毛豬","太陽珊瑚","鐵炮魚","章魚桶","信使鳥","巨翅飛魚","盔甲鳥","戴魯比","黑魯加","刺龍王","小小象","頓甲","多邊獸II","驚角鹿","圖圖犬","無畏小子","戰舞郎","迷唇娃","電擊怪","鴨嘴寶寶","大奶罐","幸福蛋","雷公","炎帝","水君","幼基拉斯","沙基拉斯","班基拉斯","洛奇亞","鳳王","時拉比"];
    const gen3=["木守宮","森林蜥蜴","蜥蜴王","火稚雞","力壯雞","火焰雞","水躍魚","沼躍魚","巨沼怪","土狼犬","大狼犬","蛇紋熊","直衝熊","刺尾蟲","甲殼繭","狩獵鳳蝶","盾甲繭","毒粉蛾","蓮葉童子","蓮帽小童","樂天河童","橡實果","長鼻葉","狡猾天狗","傲骨燕","大王燕","長翅鷗","大嘴鷗","拉魯拉絲","奇魯莉安","沙奈朵","溜溜糖球","雨翅蛾","蘑蘑菇","斗笠菇","懶人獺","過動猿","請假王","土居忍士","鐵面忍者","脫殼忍者","咕妞妞","吼爆彈","爆音怪","幕下力士","鐵掌力士","露力麗","朝北鼻","向尾喵","優雅貓","勾魂眼","大嘴娃","可可多拉","可多拉","波士可多拉","瑪沙那","恰雷姆","落雷獸","雷電獸","正電拍拍","負電拍拍","電螢蟲","甜甜螢","毒薔薇","溶食獸","吞食獸","利牙魚","巨牙鯊","吼吼鯨","吼鯨王","呆火駝","噴火駝","煤炭龜","跳跳豬","噗噗豬","晃晃斑","大顎蟻","超音波幼蟲","沙漠蜻蜓","刺球仙人掌","夢歌仙人掌","青綿鳥","七夕青鳥","貓鼬斬","飯匙蛇","月石","太陽岩","泥泥泥","鲶魚王","龍蝦小兵","鐵螯龍蝦","天秤偶","念力土偶","觸手百合","搖籃百合","太古羽蟲","太古盔甲","醜醜魚","美納斯","漂浮泡泡","變隱龍","怨影娃娃","詛咒娃娃","夜巡靈","彷徨夜靈","熱帶龍","風鈴鈴","阿勃梭魯","小果然","小雪童","冰鬼護","海豹球","海魔獅","帝牙海獅","珍珠貝","獵斑魚","櫻花魚","古空棘魚","愛心魚","寶貝龍","甲殼龍","暴飛龍","鐵啞鈴","金屬怪","巨金怪","雷吉洛克","雷吉艾斯","雷吉斯奇魯","拉帝亞斯","拉帝歐斯","蓋歐卡","固拉多","烈空坐","基拉祈","代歐奇希"];
    const gen4=["草苗龜","樹林龜","土台龜","小火焰猴","猛火猴","烈焰猴","波加曼","波皇子","帝王拿波","姆克兒","姆克鳥","姆克鷹","大牙狸","大尾狸","圓法師","音箱蟀","小貓怪","勒克貓","倫琴貓","含羞苞","羅絲雷朵","頭蓋龍","戰槌龍","盾甲龍","護城龍","結草兒","結草貴婦","紳士蛾","三蜜蜂","蜂女王","帕奇利茲","泳圈鼬","浮潛鼬","櫻花寶","櫻花兒","無殼海兔","海兔獸","雙尾怪手","飄飄球","隨風球","捲捲耳","長耳兔","夢妖魔","烏鴉頭頭","魅力喵","東施喵","鈴鐺響","臭鼬噗","坦克臭鼬","銅鏡怪","青銅鐘","盆才怪","魔尼尼","好運蛋","聒噪鳥","花岩怪","圓陸鯊","尖牙陸鯊","烈咬陸鯊","小卡比獸","利歐路","路卡利歐","河馬獸","河馬獸","鉗尾蠍","龍王蠍","不良蛙","毒骷蛙","尖牙籠","螢光魚","霓虹魚","小球飛魚","雪笠怪","暴雪王","瑪狃拉","磁力自爆","大舌舔","超甲狂犀","巨蔓藤","電擊魔獸","鴨嘴炎獸","波克基斯","遠古巨蜓","葉伊布","冰伊布","天蠍王","象牙豬","多邊獸Z","艾路雷朵","大朝北鼻","黑夜魔靈","雪妖女","洛托姆","由克希","艾姆利多","亞克諾姆","帝牙盧卡","帕路奇亞","席多藍恩","雷吉奇卡斯","騎拉帝納","克雷色利亞","霏歐納","瑪納霏","達克萊伊","謝米","阿爾宙斯"];
    const gen5=["比克提尼","藤藤蛇","青藤蛇","君主蛇","暖暖豬","炒炒豬","炎武王","水水獺","雙刃丸","大劍鬼","探探鼠","步哨鼠","小約克","哈約克","長毛狗","扒手貓","酷豹","花椰猴","花椰猿","爆香猴","爆香猿","冷水猴","冷水猿","食夢夢","夢夢蝕","豆豆鴿","咕咕鴿","高傲雉雞","斑斑馬","雷電斑馬","石丸子","地幔岩","龐岩怪","滾滾蝙蝠","心蝙蝠","螺釘地鼠","龍頭地鼠","差不多娃娃","搬運小匠","鐵骨土人","修繕老頭","圓蝌蚪","藍蟾蜍","蟾蜍王","投摔鬼","打擊鬼","蟲寶包","寶包繭","保母蟲","百足蜈蚣","車輪球","蜈蚣王","木棉球","風妖精","百合根娃娃","裙兒小姐","野蠻鱸魚","黑眼鱷","混混鱷","流氓鱷","火紅不倒翁","達摩狒狒","沙拉仙人掌","石居蟹","岩殿居蟹","滑滑小子","頭巾混混","象徵鳥","哭哭面具","死神棺","原蓋海龜","肋骨海龜","始祖小鳥","始祖大鳥","破破袋","灰塵山","索羅亞","索羅亞克","泡沫栗鼠","奇諾栗鼠","哥德寶寶","哥德小童","哥德小姐","單卵細胞球","雙卵細胞球","人造細胞卵","鴨寶寶","舞天鵝","迷你冰","多多冰","雙倍多多冰","四季鹿","萌芽鹿","電飛鼠","蓋蓋蟲","騎士蝸牛","哎呀球菇","敗露球菇","輕飄飄","胖嘟嘟","保母曼波","電電蟲","電蜘蛛","種子鐵球","堅果啞鈴","齒輪兒","齒輪組","齒輪怪","麻麻小魚","麻麻鰻","麻麻鰻魚王","小灰怪","大宇怪","燭光靈","燈火幽靈","水晶燈火靈","牙牙","斧牙龍","雙斧戰龍","噴嚏熊","凍原熊","幾何雪花","小嘴蝸","敏捷蟲","泥巴魚","功夫鼬","師父鼬","赤面龍","泥偶小人","泥偶巨人","駒刀小兵","劈斬司令","爆炸頭水牛","毛頭小鷹","勇士雄鷹","禿鷹丫頭","禿鷹娜","熔蟻獸","鐵蟻","單首龍","雙首龍","三首惡龍","燃燒蟲","火神蛾","勾帕路翁","代拉基翁","畢力吉翁","龍捲雲","雷電雲","雷希拉姆","捷克羅姆","土地雲","酋雷姆","凱路迪歐","美洛耶塔","蓋諾賽克特"];
    const gen6=["哈力栗","胖胖哈力","布里卡隆","火狐狸","長尾火狐","妖火紅狐","呱呱泡蛙","呱頭蛙","甲賀忍蛙","掘掘兔","攉土兔","小箭雀","火箭雀","烈箭鷹","粉蝶蟲","粉蝶蛹","彩粉蝶","小獅獅","火炎獅","花蓓蓓","花葉蒂","花潔夫人","咩咩羊","坐騎山羊","頑皮熊貓","流氓熊貓","多麗米亞","妙喵","超能妙喵","獨劍鞘","雙劍鞘","堅盾劍怪","粉香香","芳香精","綿綿泡芙","胖甜妮","豪喇花枝","烏賊王","龜腳腳","龜足巨鎧","垃垃藻","毒藻龍","鐵臂槍蝦","鋼炮臂蝦","傘電蜥","光電傘蜥","寶寶暴龍","怪顎龍","冰雪龍","冰雪巨龍","仙子伊布","摔角鷹人","咚咚鼠","小碎鑽","黏黏寶","黏美兒","黏美龍","鑰圈兒","小木靈","朽木妖","南瓜精","南瓜怪人","冰寶","冰岩怪","嗡蝠","音波龍","哲爾尼亞斯","伊裴爾塔爾","基格爾德","蒂安希","胡帕","波爾凱尼恩"];
    const gen7=["木木梟","投羽梟","狙射樹梟","火斑喵","炎熱喵","熾焰咆哮虎","球球海獅","花漾海獅","西獅海壬","小篤兒","喇叭啄鳥","銃嘴大鳥","貓鼬少","貓鼬探長","強顎雞母蟲","蟲電寶","鍬農炮蟲","好勝蟹","好勝毛蟹","花舞鳥","萌虻","蝶結萌虻","岩狗狗","鬃岩狼人","弱丁魚","好壞星","超壞星","泥驢仔","重泥挽馬","滴蛛","滴蛛霸","偽螳草","蘭螳花","睡睡菇","燈罩夜菇","夜盜火蜥","焰后蜥","童偶熊","穿著熊","甜竹竹","甜舞妮","甜冷美后","花療環環","智揮猩","投擲猴","膽小蟲","具甲武者","沙丘娃","噬沙堡爺","拳海參","屬性：空","銀伴戰獸","小隕星","樹枕尾熊","爆焰龜獸","托戈德瑪爾","謎擬Q","磨牙彩皮魚","老翁龍","破破舵輪","心鱗寶","鱗甲龍","杖尾鱗甲龍","卡璞・鳴鳴","卡璞・蝶蝶","卡璞・哞哞","卡璞・鰭鰭","科斯莫古","科斯莫姆","索爾迦雷歐","露奈雅拉","虛吾伊德","爆肌蚊","費洛美螂","電束木","鐵火輝夜","紙御劍","惡食大王","奈克洛茲瑪","瑪機雅娜","瑪夏多","毒貝比","四顎針龍","壘磊石","砰頭小丑","捷拉奧拉","美錄坦","美錄梅塔"];
    const gen8=["敲音猴","啪咚猴","轟擂金剛猩","炎兔兒","騰蹴小將","閃焰王牌","淚眼蜥","變澀蜥","千面避役","貪心栗鼠","藏飽栗鼠","稚山雀","藍鴉","鋼鎧鴉","索偵蟲","天罩蟲","以歐路普","偷兒狐","狐大盜","幼棉棉","白蓬蓬","毛辨羊","毛毛角羊","咬咬龜","暴噬龜","來電汪","逐電犬","小炭仔","大炭車","巨炭山","啃果蟲","蘋裹龍","豐蜜龍","沙包蛇","沙螺蟒","古月鳥","刺梭魚","戽斗尖梭","毒電嬰","顫弦蠑螈","燒火蚣","焚焰蚣","拳拳蛸","八爪武師","來悲茶","怖思壺","迷布莉姆","提布莉姆","布莉姆溫","搗蛋小妖","詐唬魔","長毛巨魔","堵攔熊","喵頭目","魔靈珊瑚","蔥遊兵","踏冰人偶","死神板","小仙奶","霜奶仙","列陣兵","啪嚓海膽","雪吞蟲","雪絨蛾","巨石丁","冰砌鵝","愛管侍","莫魯貝可","銅象","大王銅象","雷鳥龍","雷鳥海獸","鰓魚龍","鰓魚海獸","鋁鋼龍","多龍梅西亞","多龍奇","多龍巴魯托","蒼響","藏瑪然特","無極汰那","熊徒弟","武道熊師","薩戮德","雷吉艾勒奇","雷吉鐸拉戈","雪暴馬","靈幽馬","蕾冠王","詭角鹿","劈斧螳螂","月月熊","幽尾玄魚","大狃拉","萬針魚","眷戀雲"];
    const gen9=["新葉喵","蒂蕾喵","魔幻假面喵","呆火鱷","炙燙鱷","骨紋巨聲鱷","潤水鴨","湧躍鴨","狂歡浪舞鴨","愛吃豚","飄香豚","團珠蛛","操陷蛛","豆蟋蟀","烈腿蝗","布撥","布土撥","巴布土撥","一對鼠","一家鼠","狗仔包","麻花犬","迷你芙","奧利紐","奧利瓦","怒鸚哥","鹽石寶","鹽石壘","鹽石巨靈","炭小侍","紅蓮鎧騎","蒼炎刃鬼","光蚪仔","電肚蛙","電海燕","大電海燕","偶叫獒","獒教父","滋汁鼴","塗標客","納噬草","怖納噬草","原野水母","陸地水母","毛崖蟹","熱辣娃","狠辣椒","蟲滾泥","蟲甲聖","飄飄雛","超能艷鴕","小鍛匠","巧鍛匠","巨鍛匠","海地鼠","三海地鼠","下石鳥","波普海豚","海豚俠","普隆隆姆","噗隆隆","摩托蜥","拖拖蚓","晶光芽","晶光花","墓仔狗","墓揚犬","纏紅鶴","走鯨","浩大鯨","輕身鱈","吃吼霸","米立龍","棄世猴","土王","奇麒麟","土龍節節","仆斬將軍","雄偉牙","吼叫尾","猛惡菇","振翼髮","爬地翅","沙鐵皮","鐵轍跡","鐵包袱","鐵臂膀","鐵脖頸","鐵毒蛾","鐵荊棘","涼脊龍","凍脊龍","戟脊龍","索財靈","賽富豪","古簡蝸","古劍豹","古鼎鹿","古玉魚","轟鳴月","鐵武者","故勒頓","密勒頓","波盪水","鐵斑葉","裹蜜蟲","斯魔茶","來悲粗茶","夠讚狗","願增猿","吉雉雞","厄鬼椪","鋁鋼橋龍","蜜集大蛇","破空焰","猛雷鼓","鐵磐岩","鐵頭殼","太樂巴戈斯","桃歹郎"];
    
    let raw = [].concat(gen1, gen2, gen3, gen4, gen5, gen6, gen7, gen8, gen9);
    pokeData = raw.map((name, i) => ({
      name: name,
      id: (i+1).toString().padStart(3, '0'),
      num: i+1
    }));
    randPoke();
  }

  function flipPoke() { document.getElementById('poke-card').classList.toggle('is-flipped'); }
  function navPoke(dir) {
    pokeIdx += dir;
    if(pokeIdx < 0) pokeIdx = pokeData.length - 1;
    if(pokeIdx >= pokeData.length) pokeIdx = 0;
    updatePoke();
  }
  function randPoke() {
    let newIdx;
    do { newIdx = Math.floor(Math.random() * pokeData.length); } while(newIdx === pokeIdx);
    pokeIdx = newIdx;
    updatePoke();
  }
  function updatePoke() {
    document.getElementById('poke-card').classList.remove('is-flipped');
    setTimeout(() => {
      const p = pokeData[pokeIdx];
      let html = '';
      const tones = ['ˊ', 'ˇ', 'ˋ', '˙'];
      for (let char of p.name) {
        const fullZhuyin = zhuyinMap[char] || '';
        let symbols = '', toneMark = '';
        for (let z of fullZhuyin) { if (tones.includes(z)) toneMark = z; else symbols += z; }
        let symbolsHtml = '';
        for (let s of symbols) symbolsHtml += `<div class="zhuyin-char">${s}</div>`;
        html += `<div class="char-block"><div class="char-text">${char}</div><div class="zhuyin-group"><div class="zhuyin-symbols">${symbolsHtml}</div><div class="zhuyin-tone"><div class="zhuyin-tone-char">${toneMark}</div></div></div></div>`;
      }
      document.getElementById('poke-name-container').innerHTML = html;
      document.getElementById('poke-id').innerText = `No. ${p.id}`;
      document.getElementById('poke-img').src = `https://assets.pokemon.com/assets/cms2/img/pokedex/full/${p.id}.png`;
    }, 200);
  }
  function togglePokeList() {
    const list = document.getElementById('modal-body');
    list.innerHTML = '';
    const frag = document.createDocumentFragment();
    pokeData.forEach((p, i) => {
      const div = document.createElement('div');
      div.className = 'list-item';
      div.innerHTML = `<span style="font-size:12px;color:#888;">No.${p.id}</span>${p.name}`;
      div.onclick = () => { pokeIdx = i; updatePoke(); closeModal(); };
      frag.appendChild(div);
    });
    list.appendChild(frag);
    document.getElementById('modal-title').innerText = "寶可夢清單";
    document.getElementById('modal-list').style.display = 'flex';
  }

  // ================= 3. 英語邏輯 =================
  let engMode = 'words';
  let engData = [];
  let engIdx = 0;
  
  const rawEngWords = [
    ["Dog","狗","🐶","動物"],["Cat","貓","🐱","動物"],["Rabbit","兔子","🐰","動物"],["Bear","熊","🐻","動物"],["Elephant","大象","🐘","動物"],["Lion","獅子","🦁","動物"],["Tiger","老虎","🐯","動物"],["Monkey","猴子","🐵","動物"],["Pig","豬","🐷","動物"],["Cow","乳牛","🐮","動物"],["Sheep","綿羊","🐑","動物"],["Duck","鴨子","🦆","動物"],["Chicken","雞","🐔","動物"],["Horse","馬","🐴","動物"],["Fish","魚","🐟","動物"],
    ["Bird","鳥","🐦","動物"],["Turtle","烏龜","🐢","動物"],["Snake","蛇","🐍","動物"],["Panda","熊貓","🐼","動物"],["Frog","青蛙","🐸","動物"],["Bee","蜜蜂","🐝","動物"],["Butterfly","蝴蝶","🦋","動物"],["Dinosaur","恐龍","🦖","動物"],["Whale","鯨魚","🐳","動物"],["Shark","鯊魚","🦈","動物"],["Mouse","老鼠","🐭","動物"],["Giraffe","長頸鹿","🦒","動物"],["Zebra","斑馬","🦓","動物"],["Fox","狐狸","🦊","動物"],["Wolf","狼","🐺","動物"],
    ["Apple","蘋果","🍎","食物"],["Banana","香蕉","🍌","食物"],["Orange","柳橙","🍊","食物"],["Grape","葡萄","🍇","食物"],["Strawberry","草莓","🍓","食物"],["Watermelon","西瓜","🍉","食物"],["Lemon","檸檬","🍋","食物"],["Peach","桃子","🍑","食物"],["Pineapple","鳳梨","🍍","食物"],["Cherry","櫻桃","🍒","食物"],["Tomato","番茄","🍅","食物"],["Carrot","紅蘿蔔","🥕","食物"],["Corn","玉米","🌽","食物"],["Bread","麵包","🍞","食物"],["Rice","飯","🍚","食物"],
    ["Noodles","麵","🍜","食物"],["Egg","蛋","🥚","食物"],["Milk","牛奶","🥛","食物"],["Water","水","💧","食物"],["Juice","果汁","🧃","食物"],["Ice Cream","冰淇淋","🍦","食物"],["Cake","蛋糕","🍰","食物"],["Cookie","餅乾","🍪","食物"],["Candy","糖果","🍬","食物"],["Chocolate","巧克力","🍫","食物"],["Hamburger","漢堡","🍔","食物"],["Pizza","披薩","🍕","食物"],["French Fries","薯條","🍟","食物"],["Sandwich","三明治","🥪","食物"],["Hot Dog","熱狗","🌭","食物"],
    ["Family","家庭","👨‍👩‍👧","人物"],["Father","爸爸","👨","人物"],["Mother","媽媽","👩","人物"],["Brother","兄弟","👦","人物"],["Sister","姊妹","👧","人物"],["Baby","嬰兒","👶","人物"],["Grandpa","爺爺/外公","👴","人物"],["Grandma","奶奶/外婆","👵","人物"],["Boy","男孩","👦","人物"],["Girl","女孩","👧","人物"],["Man","男人","👨","人物"],["Woman","女人","👩","人物"],["Friend","朋友","🤝","人物"],["Person","人","👤","人物"],["Me","我","🙋","人物"],
    ["Teacher","老師","🧑‍🏫","職業"],["Doctor","醫生","👨‍⚕️","職業"],["Nurse","護士","👩‍⚕️","職業"],["Police","警察","👮","職業"],["Firefighter","消防員","👨‍🚒","職業"],["Cook","廚師","👨‍🍳","職業"],["Farmer","農夫","👨‍🌾","職業"],["Artist","畫家","🎨","職業"],["Singer","歌手","🎤","職業"],["Dancer","舞者","💃","職業"],["Driver","司機","🚌","職業"],["Pilot","飛行員","✈️","職業"],["Worker","工人","👷","職業"],["Scientist","科學家","🧪","職業"],["Soldier","軍人","💂","職業"],
    ["Head","頭","🙆","身體"],["Eye","眼睛","👁️","身體"],["Ear","耳朵","👂","身體"],["Nose","鼻子","👃","身體"],["Mouth","嘴巴","👄","身體"],["Tooth","牙齒","🦷","身體"],["Hand","手","✋","身體"],["Foot","腳","🦶","身體"],["Arm","手臂","💪","身體"],["Leg","腿","🦵","身體"],["Hair","頭髮","💇","身體"],["Face","臉","😀","身體"],["Finger","手指","👆","身體"],["Thumb","大拇指","👍","身體"],["Tongue","舌頭","👅","身體"],
    ["Red","紅色","🔴","顏色"],["Blue","藍色","🔵","顏色"],["Yellow","黃色","🟡","顏色"],["Green","綠色","🟢","顏色"],["Orange","橘色","🟠","顏色"],["Purple","紫色","🟣","顏色"],["Black","黑色","⚫","顏色"],["White","白色","⚪","顏色"],["Pink","粉紅色","💗","顏色"],["Brown","咖啡色","🟤","顏色"],["Grey","灰色","🌫️","顏色"],["Gold","金色","🥇","顏色"],["Silver","銀色","🥈","顏色"],
    ["One","一","1️⃣","數字"],["Two","二","2️⃣","數字"],["Three","三","3️⃣","數字"],["Four","四","4️⃣","數字"],["Five","五","5️⃣","數字"],["Six","六","6️⃣","數字"],["Seven","七","7️⃣","數字"],["Eight","八","8️⃣","數字"],["Nine","九","9️⃣","數字"],["Ten","十","🔟","數字"],["Zero","零","0️⃣","數字"],["Eleven","十一","1️⃣1️⃣","數字"],["Twelve","十二","1️⃣2️⃣","數字"],["Twenty","二十","2️⃣0️⃣","數字"],["Thirty","三十","3️⃣0️⃣","數字"],["Hundred","一百","💯","數字"],
    ["Sun","太陽","☀️","自然"],["Moon","月亮","🌙","自然"],["Star","星星","⭐","自然"],["Cloud","雲","☁️","自然"],["Rain","雨","🌧️","自然"],["Snow","雪","❄️","自然"],["Wind","風","💨","自然"],["Tree","樹","🌳","自然"],["Flower","花","🌸","自然"],["Grass","草","🌿","自然"],["Mountain","山","⛰️","自然"],["Sea","大海","🌊","自然"],["Fire","火","🔥","自然"],["Rainbow","彩虹","🌈","自然"],["Leaf","葉子","🍃","自然"],
    ["Book","書","📖","學校"],["Pen","原子筆","🖊️","學校"],["Pencil","鉛筆","✏️","學校"],["Bag","書包","🎒","學校"],["Desk","書桌","🛋️","學校"],["Chair","椅子","🪑","學校"],["Computer","電腦","💻","學校"],["Notebook","筆記本","📓","學校"],["Eraser","橡皮擦","🧱","學校"],["Ruler","尺","📏","學校"],["Scissors","剪刀","✂️","學校"],["Glue","膠水","🧴","學校"],["Crayon","蠟筆","🖍️","學校"],["Paper","紙","📄","學校"],["Map","地圖","🗺️","學校"],
    ["Home","家","🏠","家裡"],["Bed","床","🛏️","家裡"],["Sofa","沙發","🛋️","家裡"],["TV","電視","📺","家裡"],["Lamp","檯燈","💡","家裡"],["Table","桌子","🔲","家裡"],["Door","門","🚪","家裡"],["Window","窗戶","🪟","家裡"],["Key","鑰匙","🔑","家裡"],["Box","箱子","📦","家裡"],["Clock","時鐘","⏰","家裡"],["Phone","電話","☎️","家裡"],["Mobile Phone","手機","📱","家裡"],["Camera","相機","📷","家裡"],["Battery","電池","🔋","家裡"],
    ["Car","汽車","🚗","交通"],["Bus","公車","🚌","交通"],["Train","火車","🚂","交通"],["Airplane","飛機","✈️","交通"],["Bike","腳踏車","🚲","交通"],["Boat","船","🚢","交通"],["Subway","捷運","🚇","交通"],["Taxi","計程車","🚕","交通"],["Truck","卡車","🚚","交通"],["Motorcycle","摩托車","🏍️","交通"],["Helicopter","直升機","🚁","交通"],["Rocket","火箭","🚀","交通"],["Ambulance","救護車","🚑","交通"],["Fire Truck","消防車","🚒","交通"],["Police Car","警車","🚓","交通"],
    ["T-shirt","T恤","👕","衣物"],["Pants","褲子","👖","衣物"],["Dress","洋裝","👗","衣物"],["Skirt","裙子","👘","衣物"],["Shoes","鞋子","👟","衣物"],["Socks","襪子","🧦","衣物"],["Hat","帽子","🧢","衣物"],["Coat","外套","🧥","衣物"],["Glasses","眼鏡","👓","衣物"],["Watch","手錶","⌚","衣物"],["Ring","戒指","💍","衣物"],["Bag","包包","👜","衣物"],["Scarf","圍巾","🧣","衣物"],["Gloves","手套","🧤","衣物"],["Boot","靴子","👢","衣物"],
    ["School","學校","🏫","地點"],["Park","公園","⛲","地點"],["Zoo","動物園","🦁","地點"],["Hospital","醫院","🏥","地點"],["Store","商店","🏪","地點"],["Supermarket","超市","🛒","地點"],["Restaurant","餐廳","🍴","地點"],["Library","圖書館","📚","地點"],["Airport","機場","✈️","地點"],["Station","車站","🚉","地點"],["Farm","農場","🚜","地點"],["City","城市","🏙️","地點"],["Playground","遊樂場","🎠","地點"],["Cinema","電影院","🎬","地點"],["Hotel","飯店","🏨","地點"],
    ["Run","跑","🏃","動作"],["Walk","走","🚶","動作"],["Jump","跳","🦘","動作"],["Sleep","睡覺","😴","動作"],["Eat","吃","🍽️","動作"],["Drink","喝","🥤","動作"],["Read","閱讀","📖","動作"],["Write","寫字","✍️","動作"],["Sing","唱歌","🎤","動作"],["Dance","跳舞","💃","動作"],["Swim","游泳","🏊","動作"],["Play","玩","🤹","動作"],["Fly","飛","🦅","動作"],["Sit","坐","🪑","動作"],["Stand","站","🧍","動作"],
    ["Happy","快樂","😄","感覺"],["Sad","難過","😢","感覺"],["Angry","生氣","😠","感覺"],["Tired","累","😫","感覺"],["Hungry","餓","😋","感覺"],["Thirsty","口渴","🥤","感覺"],["Cold","冷","🥶","感覺"],["Hot","熱","🥵","感覺"],["Love","愛","❤️","感覺"],["Scared","害怕","😱","感覺"],["Surprised","驚訝","😲","感覺"],["Sick","生病","🤒","感覺"],["Sleepy","想睡","😪","感覺"],["Bored","無聊","😐","感覺"],["Excited","興奮","🤩","感覺"],
    ["Big","大","🐘","形容詞"],["Small","小","🐜","形容詞"],["Long","長","📏","形容詞"],["Short","短","🤏","形容詞"],["Fast","快","🚀","形容詞"],["Slow","慢","🐢","形容詞"],["Good","好","👍","形容詞"],["Bad","壞","👎","形容詞"],["Beautiful","美麗","👸","形容詞"],["Cute","可愛","🐱","形容詞"],["Clean","乾淨","✨","形容詞"],["Dirty","髒","💩","形容詞"],["New","新","🆕","形容詞"],["Old","舊/老","👴","形容詞"],["Strong","強壯","💪","形容詞"],
    ["Day","白天","☀️","時間"],["Night","晚上","🌙","時間"],["Morning","早上","🌅","時間"],["Afternoon","下午","🕑","時間"],["Evening","傍晚","🌆","時間"],["Time","時間","⏳","時間"],["Year","年","📅","時間"],["Month","月","🗓️","時間"],["Week","週","📆","時間"],["Today","今天","👇","時間"],["Tomorrow","明天","👉","時間"],["Yesterday","昨天","👈","時間"],["Birthday","生日","🎂","時間"],["Spring","春天","🌱","時間"],["Summer","夏天","☀️","時間"],
    ["Piano","鋼琴","🎹","樂器"],["Guitar","吉他","🎸","樂器"],["Drum","鼓","🥁","樂器"],["Violin","小提琴","🎻","樂器"],["Trumpet","小號","🎺","樂器"],["Soccer","足球","⚽","運動"],["Basketball","籃球","🏀","運動"],["Baseball","棒球","⚾","運動"],["Tennis","網球","🎾","運動"],["Badminton","羽毛球","🏸","運動"],["Volleyball","排球","🏐","運動"],["Ping Pong","桌球","🏓","運動"],["Swimming","游泳","🏊","運動"],["Running","跑步","🏃","運動"],["Skiing","滑雪","⛷️","運動"],
    ["Christmas","聖誕節","🎄","節日"],["Halloween","萬聖節","🎃","節日"],["New Year","新年","🎆","節日"],["Easter","復活節","🥚","節日"],["Birthday","生日","🎂","節日"],["Party","派對","🎉","節日"],["Gift","禮物","🎁","節日"],["Balloon","氣球","🎈","節日"],["Firework","煙火","🎇","節日"],["Santa","聖誕老人","🎅","節日"],
    ["Ghost","鬼","👻","萬聖節"],["Witch","女巫","🧙‍♀️","萬聖節"],["Pumpkin","南瓜","🎃","萬聖節"],["Skull","骷髏","💀","萬聖節"],["Snowman","雪人","⛄","聖誕節"],["Reindeer","馴鹿","🦌","聖誕節"],["Sleigh","雪橇","🛷","聖誕節"],["Bell","鈴鐺","🔔","聖誕節"],["Medal","獎牌","🏅","運動"],["Trophy","獎盃","🏆","運動"],["Goal","球門","🥅","運動"],["Bat","球棒","🏏","運動"],["Microphone","麥克風","🎤","樂器"],["Headphone","耳機","🎧","樂器"],["Radio","收音機","📻","樂器"],["Ticket","票","🎫","物品"],["Passport","護照","🛂","物品"],["Luggage","行李","🧳","物品"],["Compass","指南針","🧭","物品"],["Bridge","橋","🌉","建築"],["Building","大樓","🏢","建築"]
  ];

  const rawEngPhrases = [
    ["Hello","你好","👋","問候"],["Good morning","早安","🌅","問候"],["Good night","晚安","🌙","問候"],["Goodbye","再見","👋","問候"],
    ["See you","待會見","👀","問候"],["Thank you","謝謝","🙏","禮貌"],["You're welcome","不客氣","😊","禮貌"],["Please","請","🤲","禮貌"],
    ["Sorry","對不起","🙇","禮貌"],["Excuse me","不好意思","✋","禮貌"],["Yes, please","好的，謝謝","👍","禮貌"],["No, thank you","不用了，謝謝","🙅","禮貌"],
    ["Help me","幫幫我","🆘","請求"],["I can","我可以","💪","能力"],["I cannot","我不能","🚫","能力"],["I like","我喜歡","❤️","喜好"],
    ["I don't like","我不喜歡","💔","喜好"],["I want","我想要","🤲","意願"],["I have","我有","🎒","擁有"],["I am","我是","🙋","狀態"],
    ["Let's go","我們走吧","🏃","行動"],["Come here","過來這裡","👈","指令"],["Sit down","坐下","🪑","指令"],["Stand up","站起來","🧍","指令"],
    ["Listen","聽","👂","指令"],["Look","看","👀","指令"],["Quiet please","請安靜","🤫","指令"],["Raise hand","舉手","✋","指令"],
    ["Open book","打開書","📖","學校"],["Close book","闔上書","📕","學校"],["Line up","排隊","🚶‍♂️🚶‍♀️","學校"],["Clean up","收拾","🧹","家務"],
    ["Wash hands","洗手","🧼","衛生"],["Brush teeth","刷牙","🪥","衛生"],["Take shower","洗澡","🚿","衛生"],["Go to bed","去睡覺","🛌","作息"],
    ["Wake up","起床","⏰","作息"],["Get dressed","穿衣服","👔","作息"],["Eat breakfast","吃早餐","🥞","作息"],["Eat lunch","吃午餐","🍱","作息"],
    ["Eat dinner","吃晚餐","🍲","作息"],["Go to school","去學校","🏫","作息"],["Go home","回家","🏠","作息"],["Do homework","寫作業","📝","學校"],
    ["Play games","玩遊戲","🎮","娛樂"],["Watch TV","看電視","📺","娛樂"],["Read book","看書","📚","娛樂"],["Listen music","聽音樂","🎧","娛樂"],
    ["Happy birthday","生日快樂","🎂","節日"],["Merry Christmas","聖誕快樂","🎄","節日"],["Happy New Year","新年快樂","🎆","節日"],["Good job","做得好","👍","鼓勵"],
    ["Well done","做得好","🌟","鼓勵"],["Try again","再試一次","🔄","鼓勵"],["Don't worry","別擔心","😌","安慰"],["Be careful","小心","⚠️","提醒"],
    ["Watch out","注意","👀","提醒"],["Hurry up","快一點","🏃","提醒"],["Slow down","慢一點","🐢","提醒"],["Wait a moment","等一下","⏳","請求"],
    ["I am hungry","我餓了","😋","感覺"],["I am thirsty","我渴了","🥤","感覺"],["I am tired","我累了","😫","感覺"],["I am happy","我很快樂","😄","感覺"],
    ["I am sad","我很難過","😢","感覺"],["I am angry","我很生氣","😠","感覺"],["I am scared","我很害怕","😱","感覺"],["I am sick","我生病了","🤒","感覺"],
    ["It is hot","天氣熱","🥵","天氣"],["It is cold","天氣冷","🥶","天氣"],["It is raining","下雨了","🌧️","天氣"],["It is sunny","天晴了","☀️","天氣"],
    ["It is windy","颳風了","💨","天氣"],["It is snowing","下雪了","❄️","天氣"],["Turn on","打開(電器)","💡","動作"],["Turn off","關掉(電器)","🔌","動作"],
    ["Put on","穿上","🧥","動作"],["Take off","脫下","👕","動作"],["Pick up","撿起來","🤏","動作"],["Put down","放下","👇","動作"],
    ["Go up","上去","⬆️","方向"],["Go down","下去","⬇️","方向"],["Turn left","左轉","⬅️","方向"],["Turn right","右轉","➡️","方向"],
    ["Go straight","直走","⬆️","方向"],["Stop here","停這裡","🛑","方向"],["What is this?","這是什麼?","❓","問句"],["Who is he?","他是誰?","❓","問句"],
    ["Where is it?","它在哪裡?","❓","問句"],["When?","什麼時候?","❓","問句"],["Why?","為什麼?","❓","問句"],["How?","如何?","❓","問句"],
    ["How much?","多少錢?","💰","購物"],["How many?","多少個?","🔢","數量"],["Too big","太大了","🐘","形容"],["Too small","太小了","🐜","形容"],
    ["Very good","很好","👍","形容"],["Very bad","很壞","👎","形容"],["So cute","好可愛","🐱","形容"],["So beautiful","好漂亮","🌹","形容"],
    ["My name is","我的名字是","📛","介紹"],["I am fine","我很好","👌","回答"],["Nice to meet you","很高興認識你","🤝","問候"],["See you later","晚點見","👋","問候"],
    ["Have fun","玩得開心","🥳","祝福"],["Good luck","祝你好運","🍀","祝福"],["Take care","保重","❤️","祝福"],["Bless you","保佑你","🙏","祝福"],
    ["Of course","當然","✅","回答"],["No problem","沒問題","👌","回答"],["I don't know","我不知道","🤷","回答"],["I understand","我明白了","💡","回答"],
    ["Just kidding","開玩笑的","😜","對話"],["Wait for me","等等我","✋","請求"],["Let me see","讓我看看","👀","請求"],["Follow me","跟著我","👉","指令"],
    ["Call me","打給我","📞","指令"],["Text me","傳訊息給我","📱","指令"],["Email me","寄信給我","📧","指令"],["Come in","請進","🚪","指令"],
    ["Get out","出去","🚪","指令"],["Keep quiet","保持安靜","🤫","指令"],["Don't touch","不要摸","🚫","禁令"],["No running","禁止奔跑","🚷","禁令"],
    ["No smoking","禁止吸菸","🚭","禁令"],["No eating","禁止飲食","🚯","禁令"],["Be nice","要乖","😇","勸導"],["Share toys","分享玩具","🧸","勸導"],
    ["Say sorry","說對不起","🙇","勸導"],["Shake hands","握手","🤝","動作"],["High five","擊掌","✋","動作"],["Give hug","擁抱","🫂","動作"],
    ["Kiss me","親我","💋","動作"],["Love you","愛你","❤️","情感"],["Miss you","想你","💭","情感"],["Believe me","相信我","🤞","情感"],
    ["Trust me","信任我","🤝","情感"],["Forgive me","原諒我","🙏","情感"],["Forget it","算了吧","💨","情感"],["Never mind","沒關係","🤷","情感"],
    ["Whatever","隨便","😒","情感"],["Maybe","也許","🤔","推測"],["Really?","真的嗎?","😲","疑問"],["Are you sure?","你確定嗎?","🤨","疑問"],
    ["Let me think","讓我想想","🤔","思考"],["I agree","我同意","✅","意見"],["I disagree","我不同意","❌","意見"],["That's right","沒錯","✔️","意見"],
    ["That's wrong","錯了","✖️","意見"],["Good idea","好主意","💡","意見"],["Bad idea","壞主意","👎","意見"],["Who cares?","誰在乎?","🙄","態度"],
    ["Guess what?","你猜怎樣?","❓","對話"],["Tell me","告訴我","🗣️","對話"],["Ask him","問他","❓","對話"],["Answer me","回答我","❗️","對話"],
    ["Speak slowly","說慢點","🐢","請求"],["Say again","再說一次","🔄","請求"],["Write down","寫下來","✍️","請求"],["Look at me","看著我","👀","請求"],
    ["Listen to me","聽我說","👂","請求"],["Show me","秀給我看","👀","請求"],["Bring it","拿過來","🤲","請求"],["Take it","拿走","👋","請求"],
    ["Buy it","買下來","🛒","購物"],["Sell it","賣掉","💰","購物"],["Pay money","付錢","💵","購物"],["Keep change","不用找了","🪙","購物"],
    ["Too expensive","太貴了","💸","購物"],["Cheap","便宜","🏷️","購物"],["On sale","特價","🏷️","購物"],["Sold out","賣完了","🚫","購物"],
    ["Open door","開門","🚪","動作"],["Close door","關門","🚪","動作"],["Turn light on","開燈","💡","動作"],["Turn light off","關燈","🌑","動作"],
    ["Wake up","起床","⏰","作息"],["Get up","起床","🛌","作息"],["Go out","出門","🚪","行動"],["Come back","回來","🏠","行動"],
    ["Sit here","坐這裡","🪑","指令"],["Stand there","站那裡","🧍","指令"],["Be quiet","安靜","🤫","指令"],["Speak up","大聲點","📢","指令"],
    ["Don't cry","別哭","😢","安慰"],["Don't laugh","別笑","😆","勸導"],["Don't move","別動","🛑","指令"],["Move it","移動它","📦","指令"],
    ["Good boy","好男孩","👦","讚美"],["Good girl","好女孩","👧","讚美"],["Bad dog","壞狗狗","🐕","斥責"],["Good dog","乖狗狗","🐕","讚美"],
    ["It's okay","沒關係","👌","安慰"],["It's fine","沒事","😊","安慰"],["It's good","很好","👍","評價"],["It's bad","不好","👎","評價"],
    ["Too hot","太熱了","🥵","感覺"],["Too cold","太冷了","🥶","感覺"],["Too loud","太吵了","📢","感覺"],["Too quiet","太安靜","🤫","感覺"],
    ["So far","好遠","🗺️","描述"],["So close","好近","📍","描述"],["So fast","好快","🚀","描述"],["So slow","好慢","🐢","描述"],
    ["Come on","拜託/快點","🙏","語氣"],["Hold on","等一下","✋","語氣"],["Go away","走開","👋","語氣"],["Get out","出去","🚪","語氣"]
  ];

  const rawEngSentences = [
    ["I like apples.","我喜歡蘋果。","🍎","喜好"],["I like dogs.","我喜歡狗。","🐶","喜好"],["I like blue.","我喜歡藍色。","🔵","喜好"],["I love my mom.","我愛我媽媽。","👩","情感"],
    ["This is a cat.","這是一隻貓。","🐱","介紹"],["This is my book.","這是我的書。","📖","介紹"],["This is a pen.","這是一枝筆。","🖊️","介紹"],["That is a bird.","那是一隻鳥。","🐦","介紹"],
    ["It is a car.","它是一輛車。","🚗","介紹"],["It is red.","它是紅色的。","🔴","描述"],["It is big.","它很大。","🐘","描述"],["It is small.","它很小。","🐜","描述"],
    ["I am a boy.","我是一個男孩。","👦","介紹"],["I am a girl.","我是一個女孩。","👧","介紹"],["I am six.","我六歲。","6️⃣","介紹"],["I am happy.","我很快樂。","😄","感覺"],
    ["I am sad.","我很難過。","😢","感覺"],["I am hungry.","我餓了。","😋","感覺"],["I am thirsty.","我渴了。","🥤","感覺"],["I am tired.","我累了。","😫","感覺"],
    ["Can you help me?","你可以幫我嗎?","🆘","請求"],["Can I play?","我可以玩嗎?","🤹","請求"],["Can you swim?","你會游泳嗎?","🏊","能力"],["I can run.","我會跑。","🏃","能力"],
    ["I can jump.","我會跳。","🦘","能力"],["I can sing.","我會唱歌。","🎤","能力"],["I can dance.","我會跳舞。","💃","能力"],["I cannot fly.","我不會飛。","🚫","能力"],
    ["Where is mom?","媽媽在哪裡?","👩","疑問"],["Where is dad?","爸爸在哪裡?","👨","疑問"],["Where is the dog?","狗在哪裡?","🐶","疑問"],["Where is the ball?","球在哪裡?","⚽","疑問"],
    ["What is this?","這是什麼?","❓","疑問"],["What is that?","那是什麼?","❓","疑問"],["What is your name?","你叫什麼名字?","📛","疑問"],["My name is Tom.","我的名字是湯姆。","👦","回答"],
    ["How are you?","你好嗎?","👋","問候"],["I am fine.","我很好。","👌","回答"],["Thank you.","謝謝你。","🙏","禮貌"],["You are welcome.","不客氣。","😊","禮貌"],
    ["Look at the sky.","看天空。","🌌","指令"],["Look at the moon.","看月亮。","🌙","指令"],["Listen to the music.","聽音樂。","🎧","指令"],["Open the door.","開門。","🚪","指令"],
    ["Close the window.","關窗戶。","🪟","指令"],["Wash your hands.","洗手。","🧼","衛生"],["Brush your teeth.","刷牙。","🪥","衛生"],["Go to sleep.","去睡覺。","😴","作息"],
    ["Wake up now.","現在起床。","⏰","作息"],["Eat your food.","吃你的食物。","🍽️","指令"],["Drink some water.","喝點水。","💧","指令"],["Put on shoes.","穿上鞋子。","👟","指令"],
    ["Take off coat.","脫掉外套。","🧥","指令"],["Let's play together.","我們一起玩吧。","🤝","邀請"],["Let's go home.","我們回家吧。","🏠","邀請"],["Let's eat.","我們吃吧。","🍽️","邀請"],
    ["The sun is hot.","太陽很熱。","☀️","天氣"],["The snow is cold.","雪很冷。","❄️","天氣"],["The sky is blue.","天空是藍色的。","🌌","描述"],["The grass is green.","草是綠色的。","🌿","描述"],
    ["I see a fish.","我看見一條魚。","🐟","觀察"],["I see a star.","我看見一顆星星。","⭐","觀察"],["I see a tree.","我看見一棵樹。","🌳","觀察"],["I hear a bird.","我聽見鳥叫。","🐦","觀察"],
    ["I have a toy.","我有一個玩具。","🧸","擁有"],["I have a bike.","我有一輛腳踏車。","🚲","擁有"],["I have a ball.","我有一顆球。","⚽","擁有"],["She has a doll.","她有一個洋娃娃。","🎎","擁有"],
    ["He has a car.","他有一輛車。","🚗","擁有"],["We are family.","我們是家人。","👨‍👩‍👧","關係"],["They are friends.","他們是朋友。","🤝","關係"],["I love you.","我愛你。","❤️","情感"],
    ["Do you like it?","你喜歡嗎?","❓","疑問"],["Yes, I do.","是的，我喜歡。","✅","回答"],["No, I don't.","不，我不喜歡。","❌","回答"],["Are you ready?","準備好了嗎?","🏁","疑問"],
    ["Time to go.","該走了。","⌚","提醒"],["Wait for me.","等等我。","✋","請求"],["Come with me.","跟我來。","👉","指令"],["Don't do that.","別那樣做。","🚫","禁令"],
    ["Be careful.","小心。","⚠️","提醒"],["Good morning.","早安。","🌅","問候"],["Good night.","晚安。","🌙","問候"],["Have a nice day.","祝你有美好的一天。","☀️","祝福"],
    ["See you later.","晚點見。","👋","問候"],["I am sorry.","對不起。","🙇","道歉"],["It is okay.","沒關係。","👌","回答"],["Please help me.","請幫我。","🆘","請求"],
    ["I want apple.","我想要蘋果。","🍎","意願"],["I want juice.","我想要果汁。","🧃","意願"],["I want to sleep.","我想要睡覺。","😴","意願"],["I want to play.","我想要玩。","🤹","意願"],
    ["It is raining.","正在下雨。","🌧️","天氣"],["It is sunny.","天氣晴朗。","☀️","天氣"],["It is windy.","風很大。","💨","天氣"],["It is snowing.","正在下雪。","❄️","天氣"],
    ["The dog runs.","狗在跑。","🐕","動作"],["The bird flies.","鳥在飛。","🐦","動作"],["The fish swims.","魚在游。","🐟","動作"],["The baby cries.","嬰兒在哭。","👶","動作"],
    ["He is sleeping.","他正在睡覺。","😴","狀態"],["She is eating.","她正在吃。","🍽️","狀態"],["They are playing.","他們正在玩。","🤹","狀態"],["We are reading.","我們正在閱讀。","📖","狀態"],
    ["Is it big?","它大嗎?","🐘","疑問"],["Is it small?","它小嗎?","🐜","疑問"],["Is it red?","它是紅色的嗎?","🔴","疑問"],["Is it good?","它好嗎?","👍","疑問"],
    ["How many apples?","多少顆蘋果?","🍎","疑問"],["Two apples.","兩顆蘋果。","2️⃣","回答"],["How old are you?","你幾歲?","🎂","疑問"],["I am six years old.","我六歲。","6️⃣","回答"],
    ["What color is it?","它是什麼顏色?","🎨","疑問"],["It is blue.","它是藍色的。","🔵","回答"],["Where are you?","你在哪裡?","📍","疑問"],["I am here.","我在這裡。","👇","回答"],
    ["Who is he?","他是誰?","👨","疑問"],["He is my dad.","他是我爸爸。","👨","回答"],["Who is she?","她是誰?","👩","疑問"],["She is my mom.","她是我媽媽。","👩","回答"],
    ["I like pizza.","我喜歡披薩。","🍕","喜好"],["I like ice cream.","我喜歡冰淇淋。","🍦","喜好"],["I don't like bugs.","我不喜歡蟲。","🐛","喜好"],["It is yummy.","真好吃。","😋","描述"],
    ["It is yucky.","真難吃。","🤢","描述"],["It is hot.","好燙。","🥵","描述"],["It is cold.","好冷。","🥶","描述"],["The car is fast.","車子很快。","🏎️","描述"],
    ["The turtle is slow.","烏龜很慢。","🐢","描述"],["The elephant is big.","大象很大。","🐘","描述"],["The ant is small.","螞蟻很小。","🐜","描述"],["I am strong.","我很強壯。","💪","描述"],
    ["The flower is pretty.","花很漂亮。","🌸","描述"],["The sun is bright.","太陽很亮。","☀️","描述"],["The night is dark.","夜晚很暗。","🌑","描述"],["The room is clean.","房間很乾淨。","✨","描述"],
    ["My hands are dirty.","我的手髒了。","👐","描述"],["I wash my face.","我洗臉。","🧼","動作"],["I brush my hair.","我梳頭。","💇","動作"],["I put on shoes.","我穿鞋。","👟","動作"],
    ["I take off hat.","我脫帽。","🧢","動作"],["I say hello.","我說你好。","👋","動作"],["I say goodbye.","我說再見。","👋","動作"],["It is morning.","現在是早上。","🌅","時間"],
    ["It is night.","現在是晚上。","🌙","時間"],["It is time for bed.","該睡覺了。","🛌","時間"],["It is time for school.","該上學了。","🏫","時間"],["I go by bus.","我搭公車去。","🚌","交通"],
    ["I walk to school.","我走路上學。","🚶","交通"],["My dad drives.","我爸爸開車。","🚗","交通"],["The train is coming.","火車來了。","🚂","交通"],["Look at the train.","看火車。","🚂","指令"],
    ["Stop the car.","停車。","🛑","指令"],["Cross the street.","過馬路。","🚶","指令"],["Wait for green light.","等綠燈。","🚦","指令"],["Go on green.","綠燈走。","🟢","指令"],
    ["I like to draw.","我喜歡畫畫。","🖍️","喜好"],["I like to read.","我喜歡看書。","📖","喜好"],["I like to swim.","我喜歡游泳。","🏊","喜好"],["I like to sing.","我喜歡唱歌。","🎤","喜好"],
    ["Draw a circle.","畫一個圓。","⭕","指令"],["Color it red.","把它塗成紅色。","🔴","指令"],["Count to ten.","數到十。","🔟","指令"],["Write your name.","寫下你的名字。","✍️","指令"],
    ["Clean the room.","打掃房間。","🧹","指令"],["Make the bed.","鋪床。","🛏️","指令"],["Help your mom.","幫你媽媽。","👩","指令"],["Share your toys.","分享你的玩具。","🧸","指令"],
    ["Don't hit.","不可以打人。","🚫","禁令"],["Don't run.","不可以跑。","🚷","禁令"],["Be nice to friends.","對朋友要好。","🤝","勸導"],["Say thank you.","說謝謝。","🙏","勸導"],
    ["Where is the cat?","貓在哪裡?","🐱","疑問"],["It is under the bed.","它在床底下。","🛏️","回答"],["It is on the table.","它在桌子上。","🔲","回答"],["It is in the box.","它在箱子裡。","📦","回答"],
    ["The bird is singing.","鳥在唱歌。","🐦","描述"],["The cat is sleeping.","貓在睡覺。","🐱","描述"],["The dog is barking.","狗在叫。","🐕","描述"],["The fish is happy.","魚很快樂。","🐟","描述"],
    ["I have a pen.","我有一枝筆。","🖊️","擁有"],["I have an apple.","我有一顆蘋果。","🍎","擁有"],["I have a book.","我有一本書。","📖","擁有"],["I have a bag.","我有一個書包。","🎒","擁有"],
    ["Do you have a pet?","你有寵物嗎?","🐕","疑問"],["Yes, I have a dog.","有，我有一隻狗。","🐶","回答"],["No, I don't.","沒有，我沒有。","🙅","回答"],["Can I have one?","我可以有一個嗎?","🤲","請求"],
    ["Give me five.","擊掌(給我五)。","✋","動作"],["Touch your nose.","摸你的鼻子。","👃","指令"],["Touch your head.","摸你的頭。","🙆","指令"],["Touch your toes.","摸你的腳趾。","🦶","指令"],
    ["Clap your hands.","拍拍手。","👏","指令"],["Stomp your feet.","踏踏腳。","🦶","指令"],["Turn around.","轉一圈。","🔄","指令"],["Jump up high.","跳高高。","🦘","指令"]
  ];

  function initEng() {
    if(engData.length === 0) switchEngMode('words');
  }

  function switchEngMode(mode) {
    engMode = mode;
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    if(mode === 'words') { engData = rawEngWords.map(i=>({en:i[0], zh:i[1], icon:i[2], cat:i[3]})); document.querySelectorAll('.tab-btn')[0].classList.add('active'); }
    else if(mode === 'phrases') { engData = rawEngPhrases.map(i=>({en:i[0], zh:i[1], icon:i[2], cat:i[3]})); document.querySelectorAll('.tab-btn')[1].classList.add('active'); }
    else { engData = rawEngSentences.map(i=>({en:i[0], zh:i[1], icon:i[2], cat:i[3]})); document.querySelectorAll('.tab-btn')[2].classList.add('active'); }
    randEng();
  }

  function flipEng() { document.getElementById('eng-card').classList.toggle('is-flipped'); }
  function navEng(dir) {
    engIdx += dir;
    if(engIdx < 0) engIdx = engData.length - 1;
    if(engIdx >= engData.length) engIdx = 0;
    updateEng();
  }
  function randEng() {
    let newIdx;
    do { newIdx = Math.floor(Math.random() * engData.length); } while(newIdx === engIdx && engData.length > 1);
    engIdx = newIdx;
    updateEng();
  }
  function updateEng() {
    document.getElementById('eng-card').classList.remove('is-flipped');
    setTimeout(() => {
      const d = engData[engIdx];
      document.getElementById('eng-text').innerText = d.en;
      document.getElementById('eng-zh').innerText = d.zh;
      document.getElementById('eng-icon').innerText = d.icon;
      document.getElementById('eng-icon-back').innerText = d.icon;
      document.getElementById('eng-cat').innerText = d.cat;
      document.getElementById('eng-counter').innerText = `${engIdx + 1} / ${engData.length}`;
      
      const el = document.getElementById('eng-text');
      if(engMode === 'sentences') el.style.fontSize = d.en.length > 20 ? "24px" : "30px";
      else el.style.fontSize = d.en.length > 10 ? "32px" : "40px";
    }, 200);
  }
  function playEngAudio(e, lang) {
    if(e) e.stopPropagation();
    if('speechSynthesis' in window) {
      window.speechSynthesis.cancel();
      const d = engData[engIdx];
      let txt = (lang === 'zh') ? d.zh : d.en;
      let u = new SpeechSynthesisUtterance(txt);
      u.lang = (lang === 'zh') ? 'zh-TW' : 'en-US';
      u.rate = (lang === 'zh') ? 1.0 : 0.8;
      window.speechSynthesis.speak(u);
    }
  }
  function toggleEngList() {
    const list = document.getElementById('modal-body');
    list.innerHTML = '';
    const frag = document.createDocumentFragment();
    engData.forEach((d, i) => {
      const div = document.createElement('div');
      div.className = 'list-item';
      div.innerHTML = `<div style="font-size:20px">${d.icon}</div><div>${d.en}</div><div style="font-size:12px;color:#666">${d.zh}</div>`;
      div.onclick = () => { engIdx = i; updateEng(); closeModal(); };
      frag.appendChild(div);
    });
    list.appendChild(frag);
    document.getElementById('modal-title').innerText = "英語清單";
    document.getElementById('modal-list').style.display = 'flex';
  }

  // ================= 4. 數學邏輯 (鍵盤互動版) =================
  let mathState = { op: 'add', digits: 1, q: "", a: 0, input: "" };
  let isMathAnswered = false;

  function resetMath() {
    document.getElementById('math-menu-container').style.display = 'flex';
    document.getElementById('math-game-container').style.display = 'none';
    document.getElementById('math-op-menu').style.display = 'grid';
    document.getElementById('math-digit-menu').style.display = 'none';
  }

  function selectMathOp(op) {
    mathState.op = op;
    if (op === 'add' || op === 'sub') {
      document.getElementById('math-op-menu').style.display = 'none';
      document.getElementById('math-digit-menu').style.display = 'flex';
      document.getElementById('math-subtitle').innerText = (op === 'add') ? "➕ 加法 - 選擇難度" : "➖ 減法 - 選擇難度";
    } else {
      startMath(1);
    }
  }

  function startMath(digits) {
    mathState.digits = digits;
    let opName = {add:"➕ 加法", sub:"➖ 減法", mul:"✖️ 乘法", div:"➗ 除法"}[mathState.op];
    let info = (mathState.op === 'mul' || mathState.op === 'div') ? `${opName} (1位數)` : `${opName} (${digits}位數)`;
    document.getElementById('math-info').innerText = info;

    document.getElementById('math-menu-container').style.display = 'none';
    document.getElementById('math-game-container').style.display = 'flex';
    nextMathQ();
  }

  function nextMathQ() {
    isMathAnswered = false;
    mathState.input = "";
    updateMathInputDisplay();
    document.getElementById('math-feedback').style.display = 'none';
    document.getElementById('next-q-btn').style.display = 'none';

    let n1, n2, operator;
    let valid = false;

    while (!valid) {
      let min = (mathState.digits === 1) ? 1 : 10;
      let max = (mathState.digits === 1) ? 9 : 99;
      n1 = Math.floor(Math.random() * (max - min + 1)) + min;
      n2 = Math.floor(Math.random() * (max - min + 1)) + min;

      if (mathState.op === 'add') { operator = "+"; mathState.a = n1 + n2; valid = true; }
      else if (mathState.op === 'sub') { operator = "-"; if(n1 < n2) { let t=n1; n1=n2; n2=t; } mathState.a = n1 - n2; valid = true; }
      else if (mathState.op === 'mul') { n1=r(9); n2=r(9); operator = "×"; mathState.a = n1 * n2; valid = true; }
      else if (mathState.op === 'div') { n1=r(9); n2=r(9); operator = "÷"; let res = n1/n2; if(res%0.5===0) { mathState.a = res; valid = true; } }
    }
    document.getElementById('math-q-display').innerText = `${n1} ${operator} ${n2} =`;
  }
  
  function r(max) { return Math.floor(Math.random() * max) + 1; }

  function inputMath(key) {
    if (isMathAnswered) return; // 答對後鎖定輸入，等待下一步
    if (key === 'C') {
      mathState.input = "";
    } else if (key === '.') {
      if (!mathState.input.includes('.')) mathState.input += key;
    } else {
      if (mathState.input.length < 5) mathState.input += key;
    }
    updateMathInputDisplay();
  }

  function updateMathInputDisplay() {
    document.getElementById('math-input-display').innerText = mathState.input;
  }

  function checkMathAnswer() {
    if (mathState.input === "") return;
    let userAns = parseFloat(mathState.input);
    
    const fb = document.getElementById('math-feedback');
    const icon = document.getElementById('feedback-icon');
    const text = document.getElementById('feedback-text');
    
    fb.style.display = 'flex';
    
    if (userAns === mathState.a) {
      // 答對
      icon.className = 'feedback-o';
      icon.innerHTML = '⭕';
      text.style.display = 'block'; // 顯示提示文字
      isMathAnswered = true;
      // 顯示下一題按鈕 (輔助用，其實點螢幕也可以)
      // document.getElementById('next-q-btn').style.display = 'block'; 
    } else {
      // 答錯
      icon.className = 'feedback-x';
      icon.innerHTML = '❌';
      text.style.display = 'none';
      setTimeout(() => {
        fb.style.display = 'none';
        mathState.input = ""; // 清空輸入
        updateMathInputDisplay();
      }, 800);
    }
  }

  function handleFeedbackClick() {
    if (isMathAnswered) {
      nextMathQ();
    }
  }
</script>
</body>
</html>
